{"version":3,"sources":["agenda/agenda.js","dinner/dinner.js","info/info.js","main/main.js","news/news.js","notices/notices.js","participants/participants.js","premod/premod.js","profile/profile.js","questions_to_orgs/questions_to_orgs.js","speakers/speakers.js","_global.js","app.js","config.js","controllers.js","directives.js","factories.js","filters.js","polyfills.js","services.js","vendor/Bezier.js"],"names":["angular","module","controller","$rootScope","$scope","$state","db","$timeout","$stateParams","$sce","items","pageOptions","slice","$parent","header","hide","trustAsHtml","string","agenda2","vars","loadAgenda","ref","get","then","agenda","loading","dev","data","speakers","values","date","Date","today","tab","headers","options","indexOf","getDate","getMonth","getFullYear","join","document","querySelectorAll","click","_data","obj","r","RegExp","i","hasOwnProperty","replace","push","events","id","event","$","animate","scrollTop","offset","top","isAgenda2","showAgenda2","title","back","location","hash","swipe","ev","turn","_tabs","length","currentTab","openSpeaker","f_eventguid","go","section","simpleSearch","search","localStorage","openSection","opened_table","v","item","customFilter","ftable","table","toggleVisible","find","splice","filter","text","people","toLowerCase","out","$http","$mdDialog","getLetter","icon","curSector","currentGuest","showGuest","guest","sendFreetime","add","show","alert","ok","lname","error","APPID","openOrg","f_id","locationSuccess","lat","lon","method","Content-Type","url","params","lang","appid","units","cnt","responseType","cache","response","d","description","temp","info","wind","iconName","Math","round","updateWeather","console","log","unixDate","$cookies","CurrUserEmail","contacts_email","trim","unixTimeStamp","getNowStamp","welcome","photo","continue","agreement","goTo","page","my_id","name","getUnreadPushCnt","_push_count","resp","push_count","$$phase","$apply","_viewed_news","JSON","parse","viewed_news","_news_count","news_count","DialogController","cancel","hStyle","color","changeClass","inp1","inp2","addPhoto","mode","deletePhoto","fieldImg","toHumanFormat","a","months","month","day","hour","getHours","min","getMinutes","sec","getSeconds","answer","fieldTitle","fieldBody","css","overflow","setHours","unix_time_stamp","floor","getTime","new_item","newsItems","createID","c","random","toString","filterOrg","currentTime","mesCount","webKey","showAdvanced","template","parent","element","body","targetEvent","clickOutsideToClose","fullscreen","customFullscreen","checkLike","flag","len","guid","like","names","len_i","k","len_k","index","deleteNews","status","$applyAsync","showComments","curNewsItemId","curLocalNewsItemId","messages","showCommentsBlock","messageLimit","message","sendMessage","undefined","key","author","concat","edit","comcount","cancelEdit","loadMoreMessages","checkVisibility","orgMark","result","getNewsItems","stringify","directive","restrict","link","scope","attrs","container","bind","evt","offsetHeight","scrollHeight","scrollable","pushes","alarms","Users","scroll","users","gender","search_reset","step","save_step","choosenId","split","backToProfile","ScrollData","querySelector","set","openParticipant","confirm","textContent","field","content","list","_participant","$watch","factory","this","busy","prototype","Init","nextPage","data_arr","_list","fname","flname","file","communication","$location","moderation","timer","$on","participants","testmode","showQuestions","getTables","data2","s","questions_number","q_count","speaker_email","email","viewed","speaker","currentSpeaker","first_name","last_name","questions","premodToggle","question","noInternet","showBtnSaveStatus","editStatus","participantsAll","user","chosenDish","dish","neighborStatus","nf_id","nf","nf_name","saveChangedStatus","mood","btnEditStatus","chooseNeighbor","goToNeighbor","neighbor","neighborId","noTravelTo","noTravelFrom","noTravelToMinsk","noTravelFromMinsk","getTravelData","to_or_from","noTravel","dynamic","transfers","participant","toggleWay","way","transfer","msgFillAllFields","addTravelDataToTable","sendTravelCard","time","airport","flight","station","car","getCaptain","number","captains","captain","captainId","captain_id","showTab","command","attach","removeAvatar","chooseDish","sendDish","$filter","sendForm","fquestion","table_data","question_text","sendQuestion","visible","map","e","run","variables","Drawer","update","navDrawer","nav","constant","event_guid","device_guid","personal_first_name","personal_last_name","personal_team","window","jQuery","config","$httpProvider","defaults","common","post","$stateProvider","$urlRouterProvider","$qProvider","otherwise","errorOnUnhandledRejections","state","views","viewTopMenu","viewBody","templateUrl","animateTo","animateTimeout","callback","now","expireDate","toGMTString","toState","toParams","fromState","fromParams","p","firstTime","showFancy","pictures","currentTarget","parents","addClass","viewer","ready","destroy","trigger","shown","removeClass","hidden","view","Viewer","goToPage","close","n","current","noAnimation","$window","scrolled","innerHeight","attr","$elm","$attrs","longPress","$eval","onLongPress","onTouchEnd","val","delayMs","durationMs","buttonElem","order","styleElem","effectName","append","self","callbackName","app","bezier","Bezier","value","last","start","to","requestAnimationFrame","bottom","center","setTimeout","width","domElement","clientWidth","getElementsByClassName","shadow","drag","addEventListener","pointerdown","previousEvents","alpha","style","display","opacity","left","toch2mouse","touches","clientX","clientY","setEvents","action","pointermove","pointerup","classList","preventDefault","remove","toggle","open","resize","main","height","clientHeight","phone","documentElement","device_platform","words","m","h","w","M","y","getNumber","char","getСollocation","word","getFormat","str","arr","type","storages","ondemand","static","files","htmlCode","limit","input","expected","forEach","test","navigator","userAgent","setInterval","service","reference","folder","send","$mdToast","that","closer","goPushes","controllerAs","hideDelay","position","rowid","defaultVariables","size","quality","memtype"],"mappings":"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","file":"main.js","sourcesContent":["angular.module('agenda', ['angular-timeline'])\r\n    .controller('agendaCtrl', ['$rootScope', '$scope', '$state', 'db', '$timeout', '$stateParams', '$sce',\r\n        function ($rootScope, $scope, $state, db, $timeout, $stateParams, $sce) {\r\n            $scope.items = pageOptions.slice(1);\r\n            $scope.$parent.header.hide = false;\r\n            //console.log($stateParams);\r\n\r\n            $scope.trustAsHtml = function(string) {\r\n                return $sce.trustAsHtml(string);\r\n            };\r\n\r\n            $rootScope.header.agenda2 = true;\r\n            if($rootScope.vars['personal_team'] && $rootScope.vars['personal_team']=='agenda2'){\r\n                $rootScope.agenda2 = 'yes';\r\n            }\r\n\r\n            var loadAgenda=function (ref) {\r\n                db.get(ref).then(function (agenda) {\r\n                    //console.log(agenda);\r\n                    $scope.loading=false;\r\n                    db.get('speakers',!$rootScope.vars.dev).then(function (data) {\r\n                        $scope.speakers = data.values;\r\n                        //console.log($scope.speakers);\r\n                    });\r\n\r\n                    $timeout(function () {\r\n                        var date = new Date();\r\n                        $scope.today = $stateParams.tab ? $stateParams.tab : agenda.headers.date.options.indexOf([('0'+date.getDate()).slice(-2), ('0'+(date.getMonth()+1)).slice(-2), date.getFullYear()].join('.'));\r\n                        if ($scope.today === -1)\r\n                            $scope.today = 0;\r\n                        if ($stateParams.tab)\r\n                            $scope.today = $stateParams.tab;\r\n\r\n                        document.querySelectorAll('.md-tab')[+$scope.today].click();\r\n                    }, 200);\r\n\r\n\r\n                    var _data = [], obj = {};\r\n                    var r = new RegExp(\"\\x22+\",\"g\"); // вообще, в шаблоне можно указать любую строку\r\n\r\n                    for (var i in agenda.values) {\r\n                        obj = {};\r\n                        obj = agenda.values[i];\r\n                        obj['guid'] = i;\r\n\r\n                        if (obj.hasOwnProperty('order'))\r\n                            obj['order'] = +obj['order'];\r\n                        else obj['order'] = 10000;\r\n\r\n                        if (obj.hasOwnProperty('description'))\r\n                            obj['description'] = obj['description'].replace(r, \"'\");\r\n\r\n                        _data.push(obj);\r\n                    }\r\n\r\n                    $scope.headers = agenda.headers;\r\n                    $scope.events = _data;\r\n                    //console.log($scope.headers);\r\n\r\n                    if ($stateParams.id && $stateParams.event) {\r\n                        $timeout( function() {\r\n                            $('.md-active').animate({\r\n                                scrollTop: $(\"#user-\" + $stateParams.id + '_' + $stateParams.event).offset().top - 113\r\n                            }, 500);\r\n\r\n                        }, 1000);\r\n                    }\r\n\r\n                }, function () {\r\n                    //console.log('Не найден .json');\r\n                });\r\n            };\r\n\r\n            $scope.loading=true;\r\n            loadAgenda('agenda');\r\n\r\n            var isAgenda2 = false;\r\n            $rootScope.showAgenda2 = function () {\r\n                $scope.loading=true;\r\n                $rootScope.header.agenda2 = false;\r\n                $rootScope.header.title = 'Доп. программа';\r\n                isAgenda2 = true;\r\n                loadAgenda('agenda2');\r\n            }\r\n\r\n            $scope.$parent.header.back = function(){\r\n                if(isAgenda2){\r\n                    isAgenda2=false;\r\n                    $scope.loading=true;\r\n                    loadAgenda('agenda');\r\n                    $rootScope.header.title = 'Программа';\r\n                    $rootScope.header.agenda2 = true;\r\n                }\r\n                else {\r\n                    location.hash = '#/main';\r\n                }\r\n            };\r\n\r\n\r\n            //Свайп по табам\r\n            $scope.swipe = function (ev, turn) {\r\n                var _tabs = document.querySelectorAll('md-tab-item');\r\n\r\n                if (turn === 'right') {\r\n                    if ($scope.today < _tabs.length - 1) $scope.today += 1\r\n                } else {\r\n                    if ($scope.today > 0) {\r\n                        $scope.today -= 1\r\n                    }\r\n                }\r\n                $timeout(function () {\r\n                    _tabs[$scope.today].click()\r\n                })\r\n            };\r\n\r\n            $scope.currentTab = function (tab) {\r\n                $scope.today = tab;\r\n            }\r\n\r\n            $scope.openSpeaker = function(id, f_eventguid) {\r\n                //console.log(id);\r\n                //console.log($scope.today);\r\n                //console.log(f_eventguid);\r\n                $state.go('speakers', {'id': id, tab: $scope.today});\r\n            };\r\n\r\n\r\n        }\r\n    ]);\r\n\r\n","/**\r\n * Created by sveta_evp on 12.05.2017.\r\n */\r\nangular.module('dinner', [])\r\n    .controller('dinnerCtrl', ['$rootScope', '$scope', '$state', '$timeout','db',\r\n        function ($rootScope, $scope, $state, $timeout, db) {\r\n/*                db.get('dinner').then(function (data) {\r\n                        $scope.loading=true;\r\n                        for(var v in data.values){\r\n                            $scope.text=data.values[v].text;\r\n                        }\r\n                        $scope.loading=false;\r\n\r\n                });*/\r\n                $rootScope.header.back = function(){\r\n                        if($scope.section){\r\n                                $rootScope.header.simpleSearch = false;\r\n                                if ($rootScope.search) $rootScope.search = '';\r\n\r\n                                $scope.section=false;\r\n                                $rootScope.header.title = 'Гала-ужин';\r\n                        }\r\n                        else {\r\n                                localStorage.animate=0;\r\n                                location.hash = '#/main';\r\n                        }\r\n                };\r\n                $scope.openSection = function (section,title) {\r\n                        $timeout(function () {\r\n                                $scope.section = section;\r\n                                $rootScope.header.title = title;\r\n\r\n                                if (section == 'gala_shema') {\r\n                                        $scope.opened_table = [];\r\n                                        $rootScope.header.simpleSearch = true;\r\n                                        if ($rootScope.search) $rootScope.search = '';\r\n                                }\r\n\r\n                                db.get(section).then(function (data) {\r\n                                        $scope.loading=true;\r\n                                        var items = [];\r\n                                        for(var v in data.values){\r\n                                                var item = {};\r\n                                                item = data.values[v];\r\n                                                item['order'] =  data.values[v]['order']?+data.values[v]['order']:1000;\r\n                                                items.push(item);\r\n                                        }\r\n\r\n                                        $scope.headers = data.headers;\r\n                                        $scope.items = items;\r\n\r\n                                        //console.log($scope.headers);\r\n                                        //console.log($scope.items);\r\n\r\n                                        $scope.loading=false;\r\n                                });\r\n                        },500);\r\n\r\n                }\r\n\r\n                $scope.customFilter = function(ftable) {\r\n                        return function(item) {\r\n                                return ($scope.headers.table.options[item.table] == ftable);\r\n                        }\r\n                }\r\n\r\n                $scope.toggleVisible = function(find) {\r\n                        if ($scope.opened_table.indexOf(find) > -1)\r\n                                $scope.opened_table.splice($scope.opened_table.indexOf(find),1);\r\n                        else\r\n                                $scope.opened_table.push(find);\r\n                }\r\n\r\n                $scope.opened_table = [];\r\n\r\n        }]).filter('search', function () {\r\n        return function (data, text, people) {\r\n                text = text || '';\r\n                text = text.toLowerCase();\r\n                var out = [];\r\n                //console.log(data);\r\n                //console.log(text);\r\n                //console.log(people);\r\n                if (text.length < 3) return data;\r\n\r\n                for (var i = 0; i < people.length; i++) {\r\n                        var flname = (people[i].hasOwnProperty('fio')) ? people[i]['fio'].toLowerCase() : \"\";\r\n\r\n                        if (flname.indexOf(text) > -1 && people[i].hasOwnProperty('table') && out.indexOf(data[people[i]['table']] == -1)) {\r\n                                //console.log(people[i]);\r\n                                out.push(data[people[i]['table']]);\r\n                        }\r\n                }\r\n                return out;\r\n        };\r\n});","/**\r\n * Created by sveta_evp on 12.05.2017.\r\n */\r\nangular.module('info', [])\r\n    .controller('infoCtrl', ['$rootScope', '$scope', '$state', '$timeout','db','$http', '$stateParams', '$mdDialog',\r\n        function ($rootScope, $scope, $state, $timeout,db,$http,$stateParams, $mdDialog) {\r\n            //$scope.section = 'hotel';\r\n                $scope.curSector=-1;\r\n                $rootScope.header.back = function(){\r\n                        $scope.curSector=-1;\r\n                        if($scope.section){\r\n                            $rootScope.header.simpleSearch = false;\r\n                            if($scope.section!='hotel_photos' && $scope.section!='hotel_halls')    {\r\n                                    if($scope.currentGuest){\r\n                                            $scope.currentGuest = false ;\r\n                                    }\r\n                                    else{\r\n                                            $scope.section=false;\r\n                                            $rootScope.header.title = 'Useful Information';\r\n                                    }\r\n                            }\r\n                            else{\r\n                                    $scope.section='hotel';\r\n                                    $scope.openSection('hotel','Marriott Minsk');\r\n                            }\r\n                        }\r\n                        else {\r\n                                localStorage.animate=0;\r\n                                location.hash = '#/main';\r\n                        }\r\n                };\r\n\r\n                $scope.showGuest=function(guest){\r\n                        $scope.currentGuest = guest;\r\n                }\r\n\r\n                $scope.sendFreetime = function(obj){\r\n                    //console.log(obj);\r\n\r\n                    var data = obj;\r\n                    /*for(var key in obj)\r\n                        data[key] = obj[key];*/\r\n\r\n                    //alert(JSON.stringify(data));\r\n\r\n                    db.add('reetime_list',data);\r\n                    //===========BEБ ЗАПИСЬ В ТАБЛИЦУ==============\r\n\r\n                    //=============================================\r\n                    $mdDialog.show(\r\n                        $mdDialog.alert()\r\n                            .title('Данные отправлены')\r\n                            .ok('Ок')\r\n                    );\r\n\r\n                    //angular.element('md-input-container' + currentContact.id).val('');\r\n                    //<md-input-container class=\"inp md-input-invalid\"\r\n\r\n                    /*for (var j in obj)\r\n                        obj[j] = '';*/\r\n                }\r\n\r\n                $scope.openSection = function (section,title) {\r\n                      $scope.loading=true;\r\n                      $timeout(function () {\r\n                              $scope.section = section;\r\n                              $rootScope.header.title = title;\r\n                              //=======схема рассадки===============\r\n                              if (section == 'business_scheme') {\r\n                                      $scope.opened_table = [];\r\n                                      $rootScope.header.simpleSearch = true;\r\n                                      if ($rootScope.search) $rootScope.search = '';\r\n                              }\r\n                              //====================================\r\n                              db.get(section).then(function (data) {\r\n                                      $scope.loading=true;\r\n                                      var items = [];\r\n                                      for(var v in data.values){\r\n                                              var item = {};\r\n                                              item = data.values[v];\r\n                                              if(item['seat'])item['seat']=+item['seat'];\r\n                                              item['id'] = v;\r\n                                              item['order'] =  data.values[v]['order']?+data.values[v]['order']:1000;\r\n                                              items.push(item);\r\n                                      }\r\n                                      $scope.items = items;\r\n                                      $scope.headers = data.headers;\r\n                                      $scope.loading=false;\r\n                                      if($stateParams.section=='guests'){\r\n                                              for(var i=0; i<($scope.items).length; i++){\r\n                                                      if($scope.items[i].lname==$stateParams.lname){\r\n                                                              $scope.showGuest($scope.items[i]);\r\n                                                      }\r\n                                              }\r\n                                      }\r\n                              },function(error){\r\n                                      $scope.loading=false;\r\n                              });\r\n                      },500);\r\n\r\n                }\r\n                //$scope.openSection($scope.section,'Информация об отеле');\r\n\r\n                //=======схема рассадки===============\r\n                $scope.customFilter = function(ftable) {\r\n                        return function(item) {\r\n                                return ($scope.headers.table.options[item.table] == ftable);\r\n                        }\r\n                }\r\n\r\n                $scope.toggleVisible = function(find) {\r\n                        if ($scope.opened_table.indexOf(find) > -1)\r\n                                $scope.opened_table.splice($scope.opened_table.indexOf(find),1);\r\n                        else\r\n                                $scope.opened_table.push(find);\r\n                }\r\n\r\n                $scope.opened_table = [];\r\n\r\n                //=====================================\r\n\r\n                if ($stateParams.section){\r\n                        if($stateParams.section=='business_scheme'){\r\n                            $scope.openSection($stateParams.section,'Seating chart');\r\n                        }\r\n                        else if($stateParams.section!='guests'&&$stateParams.section!='main'){\r\n                            $scope.openSection($stateParams.section,'Organizers');\r\n                        }\r\n                        else{\r\n                            if($stateParams.section!='main')$scope.openSection($stateParams.section,'Guests of the Conference');\r\n                        }\r\n                }\r\n\r\n\r\n            //===================ПОГОДА===================================\r\n            $scope.APPID = \"4ccea7fb89b8c08e7e7ccb3e44a1c0ee\"; // API ключ openweathermap\r\n\r\n                //$scope.Wlatitude=43.35;\r\n                // $scope.Wlongitude =39.43;\r\n\r\n                $scope.openOrg = function(f_id) {\r\n                        //console.log(f_id);\r\n                        $state.go('questions_to_orgs', {id: f_id});\r\n                };\r\n\r\n                $scope.locationSuccess = function(lat,lon) {\r\n                        var geoApi = \"http://api.openweathermap.org/data/2.5/forecast\";\r\n                        $http({\r\n                                method: 'GET',\r\n                                headers: {\r\n                                    'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;'\r\n                                },\r\n                                url: geoApi,\r\n                                params: {\r\n                                        lat: lat,\r\n                                        lon: lon,\r\n                                        lang: 'en',\r\n                                        appid: $scope.APPID,\r\n                                        units: 'metric',\r\n                                        cnt: 38\r\n                                },\r\n                                responseType: 'json',\r\n                                cache: false\r\n                        }).then(function successCallback(response) {\r\n                                //alert(JSON.stringify(response))\r\n                                // this callback will be called asynchronously\r\n                                // when the response is available\r\n                                //console.log(\"locationSuccess\");\r\n                                var d = response.data;\r\n                                //console.log(d);\r\n                                if (d) {\r\n                                        var data = d[\"list\"][0]; // текущие данные о погоде\r\n                                        //console.log(d);\r\n                                        var description = data[\"weather\"][0];\r\n                                        var icon = description[\"icon\"];\r\n                                        var temp = data[\"main\"][\"temp\"];\r\n                                        var info = description[\"description\"];\r\n                                        var wind = data[\"wind\"][\"speed\"];\r\n                                        var iconName = getLetter(icon);\r\n                                        $scope.icon = \"../img/weather/\" + iconName + \".svg\";\r\n                                        $scope.temp = Math.round(temp) + \"°C\";\r\n                                        $scope.info = info;\r\n                                        $scope.wind =wind;\r\n                                        localStorage.icon=$scope.icon;\r\n                                        localStorage.temp=$scope.temp;\r\n                                        localStorage.info=$scope.info;\r\n                                        localStorage.wind=$scope.wind;\r\n                                }\r\n\r\n                        }, function errorCallback(response) {\r\n                                $scope.icon=localStorage.icon;\r\n                                $scope.temp=localStorage.temp;\r\n                                $scope.info=localStorage.info;\r\n                                $scope.wind=localStorage.wind;\r\n                        });\r\n\r\n                }\r\n\r\n                if($rootScope.vars.dev){\r\n                        $scope.locationSuccess(48.2,16.4);\r\n                        //$scope.locationSuccess(32,34);\r\n                }\r\n                $scope.locationSuccess(48.2,16.4);\r\n\r\n                $scope.updateWeather=function(){\r\n                }\r\n\r\n                function getLetter(icon) {\r\n                        var letter = \"\";\r\n                        if (icon == \"01d\" || icon == \"01n\") {\r\n                                letter = \"B\";\r\n                        } else if (icon == \"02d\" || icon == \"02n\") {\r\n                                letter = \"H\";\r\n                        } else if (icon == \"03d\" || icon == \"03n\") {\r\n                                letter = \"H\";\r\n                        } else if (icon == \"04d\" || icon == \"04n\") {\r\n                                letter = \"Y\";\r\n                        } else if (icon == \"09d\" || icon == \"09n\") {\r\n                                letter = \"R\";\r\n                        } else if (icon == \"10d\" || icon == \"10n\") {\r\n                                letter = \"Q\";\r\n                        } else if (icon == \"11d\" || icon == \"11n\") {\r\n                                letter = \"P\";\r\n                        } else if (icon == \"13d\" || icon == \"13n\") {\r\n                                letter = \"W\";\r\n                        } else if (icon == \"50d\" || icon == \"50n\") {\r\n                                letter = \"M\";\r\n                        } else {\r\n                                letter = \"0S\"\r\n                        }\r\n                        return letter;\r\n                }\r\n                //===================END ПОГОДА===============================\r\n        }]).filter('search3', function () {\r\n        return function (data, text, people) {\r\n                text = text || '';\r\n                text = text.toLowerCase();\r\n                var out = [];\r\n                //console.log(data);\r\n                //console.log(text);\r\n                //console.log(people);\r\n                if (text.length < 3) return data;\r\n\r\n                for (var i = 0; i < people.length; i++) {\r\n                        var flname = (people[i].hasOwnProperty('fio')) ? people[i]['fio'].toLowerCase() : \"\";\r\n\r\n                        if (flname.indexOf(text) > -1 && people[i].hasOwnProperty('table') && out.indexOf(data[people[i]['table']] == -1)) {\r\n                                console.log(people[i]);\r\n                                out.push(data[people[i]['table']]);\r\n                        }\r\n                }\r\n                return out;\r\n        };\r\n});;","angular.module('main', [])\r\n    .controller('mainCtrl', ['$rootScope', '$scope', '$state', '$timeout', 'db', 'unixDate', '$cookies',\r\n        function ($rootScope, $scope, $state, $timeout, db, unixDate, $cookies) {\r\n            $scope.items = pageOptions.slice(2);\r\n            $scope.$parent.header.hide = true;\r\n            $scope.CurrUserEmail = $rootScope.vars.contacts_email?$rootScope.vars.contacts_email.trim():'';\r\n            $scope.unixTimeStamp = unixDate.getNowStamp();\r\n\r\n            $scope.animate=localStorage.animate==0?false:true;\r\n            $scope.welcome = localStorage.welcome?true:false;\r\n\r\n            $scope.photo='1601bfe1-880a-4691-b4af-89793ccc7d07.jpg';\r\n\r\n            $scope.continue = function () {\r\n                $timeout(function () {\r\n                    $scope.welcome = true;\r\n                    localStorage.welcome = 1;\r\n                },500);\r\n            }\r\n            \r\n            if(!$scope.welcome){\r\n                db.get('agreement').then(function (data) {\r\n                    for(var v in data.values){\r\n                        $scope.agreement = data.values[v].text;\r\n                        break;\r\n                    }\r\n                })\r\n            }\r\n\r\n            if(!$scope.animate){\r\n                localStorage.animate=1;\r\n            }\r\n\r\n            $scope.goTo=function (page) {\r\n                $timeout(function () {\r\n                    $state.go(page);\r\n                },500);\r\n            };\r\n\r\n            var getMyData = function (id) {\r\n                db.get('participants',!$rootScope.vars.dev).then(function (data) {\r\n                    var me = data.values[id];\r\n                    if(me.name && me.lname){$scope.name = me.name+' '+me.lname;}\r\n                    $scope.photo = me.photo?me.photo:false;\r\n                    localStorage.name=$scope.name;\r\n                });\r\n            }\r\n\r\n/*            if (navigator.userAgent.indexOf ('Mac')!= -1){\r\n                var my_id = $cookies.get('my_id')?$cookies.get('my_id'):false;\r\n                var ios = true;\r\n            }\r\n            else{\r\n                var my_id = localStorage.my_id?localStorage.my_id:false;\r\n                var ios = true;\r\n            }*/\r\n\r\n            //alert('all cookies'+JSON.stringify($cookies.getAll()));\r\n\r\n            var my_id = localStorage.my_id?localStorage.my_id:'';\r\n            $scope.name=localStorage.name?localStorage.name:'';\r\n\r\n            // получаем количество непрочитанных пушей\r\n            $scope.getUnreadPushCnt = function() {\r\n                var _push_count = (localStorage[\"push_count\"]) ? +localStorage[\"push_count\"] : 0;    // количество просмотренных уведомлений\r\n                //var _push_count = ($cookies.get('push_count')) ? +$cookies.get('push_count') : 0;    // количество просмотренных уведомлений\r\n                var unixTimeStamp = unixDate.getNowStamp();\r\n\r\n                db.get('notices').then(function (resp) {\r\n                    //console.log(resp);\r\n                    var push_count = 0;\r\n\r\n                    for (var i in resp.values) {\r\n                        if( resp.values[i]['date_public'] < $scope.unixTimeStamp &&\r\n                            (resp.values[i]['users'].indexOf($scope.CurrUserEmail) != -1 ||\r\n                                resp.values[i]['users'].length == 0)) {\r\n                                    push_count += 1;        // количество уведомлений текущего пользователя\r\n                        }\r\n                    }\r\n\r\n                    $scope.push_count = push_count - _push_count;      // мои минус просмотреннные\r\n                    if(!$scope.$$phase) { $scope.$apply(); }\r\n                });\r\n            };\r\n            $scope.getUnreadPushCnt();\r\n\r\n\r\n            //получаем кол-во непрочитанных новостей\r\n            var _viewed_news = (localStorage.viewed_news) ? JSON.parse(localStorage.viewed_news) : [];\r\n            db.get('module_notification',!$rootScope.vars.dev).then(function (data) {\r\n                var _news_count = 0;\r\n\r\n                for (var v in data.values) {\r\n                    //console.log(data.values[v]);\r\n\r\n                    if (_viewed_news.indexOf(v) === -1 && data.values[v].hasOwnProperty('title'))\r\n                        _news_count++;\r\n                }\r\n\r\n                $scope.news_count = _news_count;\r\n            });\r\n        }\r\n    ]);\r\n","/**\r\n * Created by sveta_evp on 12.05.2017.\r\n */\r\nangular.module('news', [])\r\n    .controller('newsCtrl', ['$rootScope',  '$scope', '$state', '$timeout', 'db', 'unixDate', '$mdDialog',\r\n        function ($rootScope, $scope, $state, $timeout, db, unixDate, $mdDialog) {\r\n            $rootScope.unixTimeStamp = unixDate.getNowStamp();\r\n            $rootScope.filterOrg = false;\r\n            $scope.currentTime = unixDate.toHumanFormat(unixDate.getNowStamp());\r\n            $scope.mesCount = {};\r\n\r\n            $scope.webKey = localStorage.webKey;\r\n            $scope.name = localStorage.name?localStorage.name:'';\r\n\r\n            var _viewed_news = localStorage.viewed_news ? JSON.parse(localStorage.viewed_news) : [];\r\n\r\n            //var allItems = $scope.newsItems;\r\n            // не трогать\r\n            function DialogController($scope, $mdDialog) {\r\n                $scope.hide = function () {\r\n                    $mdDialog.hide();\r\n                };\r\n\r\n                $scope.cancel = function () {\r\n                    $mdDialog.cancel();\r\n                };\r\n\r\n                $scope.hStyle={\r\n                    \"color\":\"#fff\"\r\n                }\r\n\r\n                $scope.changeClass=function (inp1,inp2) {\r\n                    if(inp1!=''&&inp2!=''){\r\n                        $scope.hStyle={\r\n                            \"color\":\"#fff\"\r\n                        }\r\n                    }\r\n                }\r\n\r\n                $scope.addPhoto = function (mode) {\r\n                    //$scope.fieldImg = 'files/hotelmariott.jpg';\r\n                    var options = {\r\n                        size: 640,\r\n                        quality: 75\r\n                    };\r\n                };\r\n\r\n                $scope.deletePhoto = function (item) {\r\n                    $scope.fieldImg = null;\r\n                };\r\n\r\n                var toHumanFormat = function(unixTimeStamp) {\r\n                    var a = new Date(unixTimeStamp * 1000);\r\n\r\n                    //var months = ['Января','Февраля','Марта','Апреля','Мая','Июня','Июля','Августа','Сентября','Октября','Ноября','Декабря'];\r\n                    var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n                    var year = a.getFullYear();\r\n\r\n                    var month = months[a.getMonth()];\r\n                    //var month = a.getMonth() + 1;\r\n                    if (month < 10) month = '0' + month;\r\n\r\n                    var day = a.getDate();\r\n\r\n                    var hour = a.getHours();\r\n                    if (hour < 10) hour = '0' + hour;\r\n\r\n                    var min = a.getMinutes();\r\n                    if (min < 10) min = '0' + min;\r\n\r\n                    var sec = a.getSeconds();\r\n                    if (sec < 10) sec = '0' + sec;\r\n\r\n                    //var time = day + '.' + month + '.' + year + ' ' + hour + ':' + min + ':' + sec ;\r\n                    //var time = year + '-' + month + '-' + day + ' ' + hour + ':' + min + ':' + sec ;\r\n                    var time = day + ' ' + month+', '+hour+':'+min;\r\n\r\n                    return time;\r\n                };\r\n\r\n                $scope.answer = function (answer, fieldTitle, fieldBody, fieldImg) {\r\n                    $(\"#main\").css({\"overflow\":\"auto\"});\r\n                    //if(answer=='send'&&(!fieldTitle || !fieldBody)) {\r\n                    if(answer=='send' && !fieldTitle) {\r\n                        //alert('Все поля должны быть заполнены');\r\n                        $scope.hStyle={\r\n                            \"color\":\"red\"\r\n                        }\r\n                        //showMessage.show(\"Все поля должны быть заполнены\", 2000);\r\n                        return;\r\n                    }\r\n                    //console.log(fieldTitle, fieldBody);\r\n                    $mdDialog.hide(answer);\r\n                    if(answer=='send'){\r\n                        var d = new Date();\r\n                        d.setHours(d.getHours());\r\n                        var unix_time_stamp = Math.floor(d.getTime() / 1000);\r\n                        //alert(d);\r\n                        //alert(d.toISOString());\r\n                        var new_item = {};\r\n                        new_item['date_public']=unix_time_stamp;\r\n                        new_item['title']=fieldTitle;\r\n                        new_item['desc']=fieldBody;\r\n                        if (fieldImg)\r\n                            new_item['img']=fieldImg;\r\n                        if(localStorage.name){new_item['author']=localStorage.name;}\r\n                        if(!$rootScope.vars.dev && new_item['title'] && new_item['title']!='')db.add('module_notification',new_item);\r\n                        new_item['date_public_human'] = toHumanFormat(new_item['date_public']);\r\n                        $rootScope.unixTimeStamp = Math.floor(d.getTime() / 1000);\r\n                        //alert(toHumanFormat($rootScope.unixTimeStamp));\r\n                        //$scope.newsItems.push(new_item);\r\n                        $rootScope.newsItems.push(new_item);\r\n                        $rootScope.scrollTop();\r\n                        //alert(JSON.stringify(new_item));\r\n                        //alert(JSON.stringify($rootScope.newsItems));\r\n                    }\r\n                };\r\n            }\r\n\r\n            // модульное окно\r\n            $rootScope.showAdvanced = function (ev) {\r\n                $(\"#main\").css({\"overflow\":\"hidden\"});\r\n                //document.querySelector('main').classList.add(disableScroll);\r\n\r\n                $mdDialog.show({\r\n                    controller: DialogController,\r\n                    template: '<md-dialog class=\"add-news-feed-item-dialog\" aria-label=\"Создать новость\">\\\r\n                                    <form>\\\r\n                                        <md-toolbar>\\\r\n                                            <div class=\"md-toolbar-tools\" style=\"background: #ed1d24;\">\\\r\n                                                <h2>Post news</h2>\\\r\n                                            </div>\\\r\n                                        </md-toolbar>\\\r\n                                        <md-dialog-content class=\"md-dialog-content\" style=\"max-width:800px;max-height:810px;\">\\\r\n                                            <div style=\"color: red;font-size: 0.8em;line-height: 1.1em;margin-bottom: 5px;\" ng-style=\"hStyle\">Please fill the title field</div>\\\r\n                                            <input ng-change=\"changeClass(fieldTitle,fieldBody)\" placeholder=\"Title\" class=\"dialog-field new-news-title\" id=\"fieldTitle\" type=\"text\" ng-model=\"fieldTitle\">\\\r\n                                            <textarea ng-change=\"changeClass(fieldTitle,fieldBody)\" placeholder=\"News content\" class=\"dialog-field new-news-body\" id=\"fieldBody\" ng-model=\"fieldBody\"></textarea>\\\r\n                                            <div class=\"photos\" ng-show=\"fieldImg\">\\\r\n                                                <div class=\"photo-block\">\\\r\n                                                    <div>\\\r\n                                                        <a href=\"{{fieldImg | file}}\" data-fancybox style=\"{{ fieldImg | file:\\'cover\\' }}\"></a>\\\r\n                                                        <p ng-click=\"deletePhoto(fieldImg)\"><img src=\"../img/delete.svg\" alt=\"\"></p>\\\r\n                                                    </div>\\\r\n                                                </div>\\\r\n                                            </div>\\\r\n                                            <div class=\"buttons\">\\\r\n                                                <button class=\"photo_ photo_album\" ng-disabled=\"fieldImg\" ng-click=\"addPhoto(\\'gallery\\')\"><img src=\"../img/photo-album.svg\"> <span>\\Upload a photo\\</span></button>\\\r\n                                                <button class=\"photo_ photo_camera\" ng-disabled=\"fieldImg\" ng-click=\"addPhoto()\"><img src=\"../img/photo-camera.svg\"> <span>\\Make a photo\\</span></button>\\\r\n                                            </div>\\\r\n                                        </md-dialog-content>\\\r\n                                        <md-dialog-actions layout=\"row\">\\\r\n                                            <span flex></span>\\\r\n                                            <md-button ng-click=\"answer(\\'cancel\\')\" style=\"padding:0 5px; background:#e6e6e6\">\\Cancel\\</md-button>\\\r\n                                            <md-button ng-click=\"answer(\\'send\\', fieldTitle, fieldBody,fieldImg)\" style=\"padding:0 5px; background:#d8eae4\">\\Post\\</md-dialog-actions>\\\r\n                                    </form>\\\r\n                                </md-dialog>',\r\n                    parent: angular.element(document.body),\r\n                    targetEvent: ev,\r\n                    clickOutsideToClose: true,\r\n                    fullscreen: $scope.customFullscreen // Only for -xs, -sm breakpoints.\r\n                })\r\n                    .then(function (answer) {\r\n                        if(answer == 'send') {\r\n                        } else if(answer == 'cancel') {\r\n                            console.log('canceled');\r\n                        }\r\n                    }, function () {\r\n                        console.log('cancelled');\r\n                    });\r\n            };\r\n\r\n            $scope.checkLike = function (id) {\r\n                var flag = false;\r\n                var name = localStorage.name?localStorage.name:'';\r\n\r\n                for (var i = 0, len = $rootScope.newsItems.length; i < len; i++) {\r\n                    if ($rootScope.newsItems[i].guid === id) {\r\n                        if ($rootScope.newsItems[i].like)\r\n                            checkName($rootScope.newsItems[i].like);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                function checkName(names) {\r\n                    for (var i = 0, len = names.length; i < len; i++) {\r\n                        if (names[i] === name) {\r\n                            flag = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return flag;\r\n            };\r\n\r\n            $scope.like = function (id) {\r\n                //console.log(id);\r\n                var name = localStorage.name?localStorage.name:'';\r\n\r\n                var obj = {};\r\n\r\n                if ($scope.checkLike(id) === false) {\r\n                    for (var i = 0, len_i = $rootScope.newsItems.length; i < len_i; i++) {\r\n\r\n                        if ($rootScope.newsItems[i].guid === id) {\r\n                            if (!$rootScope.newsItems[i].like)\r\n                                $rootScope.newsItems[i].like = [];\r\n\r\n                            $rootScope.newsItems[i].like.push(name);\r\n                            obj[id] = {like: '+' + name};\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    for (var k = 0, len_k = $rootScope.newsItems.length; k < len_k; k++) {\r\n                        if ($rootScope.newsItems[k].guid === id) {\r\n                            var index = $rootScope.newsItems[k].like.indexOf(name);\r\n                            $rootScope.newsItems[k].like.splice(index, 1);\r\n                            obj[id] = {like: '-' + name};\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            $scope.deleteNews = function (id) {\r\n                console.log(id);\r\n\r\n                var obj = {};\r\n                obj[id] = { status: 'deleted' };\r\n                for (var k = 0, len_k = $rootScope.newsItems.length; k < len_k; k++) {\r\n                    if ($rootScope.newsItems[k].guid === id) {\r\n                        $scope.$applyAsync(function () {\r\n                            $rootScope.newsItems.splice(k, 1);\r\n                        });\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            };\r\n            $scope.showComments = function (id,index) {\r\n                //$rootScope.scrollTop();\r\n                $scope.curNewsItemId = id;\r\n                $scope.curLocalNewsItemId = index;\r\n                //alert($scope.curNewsItemId);\r\n                //$(\"#main\").css({\"overflow\":\"hidden\"});\r\n                $scope.messages = [];\r\n                $rootScope.showCommentsBlock = id;\r\n                var arr = [];\r\n                $scope.messageLimit = 20;\r\n            };\r\n\r\n            $scope.message = {};\r\n\r\n            $scope.sendMessage = function () {\r\n                if ($scope.message.id !== undefined) {\r\n                    for (var i = 0, len = $scope.messages.length; i < len; i++) {\r\n                        if ($scope.messages[i].id === $scope.message.id) {\r\n                            $scope.messages[i].text = $scope.message.text;\r\n                        }\r\n                    }\r\n                } else {\r\n                    var obj = {};\r\n                    var key = createID();\r\n                    obj[key] = {\r\n                        author: localStorage.name?localStorage.name:'',\r\n                        date: new Date().getTime(),\r\n                        text: $scope.message.text,\r\n                        id: key\r\n                    };\r\n                    $scope.messages = [obj[key]].concat($scope.messages);\r\n                }\r\n                //=========плюсуем коменты=====================\r\n                //alert($scope.curNewsItemId);\r\n                db.edit('module_notification', {comcount: 'math:+1'}, $scope.curNewsItemId);\r\n                if($rootScope.newsItems[$scope.curLocalNewsItemId].comcount)$rootScope.newsItems[$scope.curLocalNewsItemId].comcount=+$rootScope.newsItems[$scope.curLocalNewsItemId].comcount+1;\r\n                else $rootScope.newsItems[$scope.curLocalNewsItemId].comcount = 1;\r\n                //=============================================\r\n                $scope.message = {};\r\n                delete $scope.cancelEdit;\r\n            };\r\n\r\n            function createID() {\r\n                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                    var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n                    return v.toString(16);\r\n                })\r\n            }\r\n\r\n            $rootScope.header.back = function () {\r\n                if ($rootScope.showCommentsBlock !== undefined){\r\n                    delete $rootScope.showCommentsBlock;\r\n                    //$(\"#main\").css({\"overflow\":\"auto\"});\r\n                }\r\n                else\r\n                    location.hash = '#/main';\r\n            };\r\n\r\n            $scope.loadMoreMessages = function () {\r\n                if ($scope.messages.length > $scope.messageLimit) {\r\n                    $scope.messageLimit += 20;\r\n                }\r\n            };\r\n\r\n            // проверка видимости в зависимости от наличия галочки\r\n            $rootScope.checkVisibility = function (orgMark) {\r\n                var result;\r\n\r\n                if (orgMark && $rootScope.filterOrg) {                      // если есть у новости есть признак организатора и галочка отмечена\r\n                    result = true;\r\n                } else if ((!orgMark && $rootScope.filterOrg)) {             // если есть у новости НЕТ признака организатора и галочка отмечена\r\n                    result = false;\r\n                } else if ((orgMark && !$rootScope.filterOrg)) {             // если есть у новости есть признак организатора и галочка НЕ отмечена\r\n                    result = true;\r\n                } else if ((!orgMark && !$rootScope.filterOrg)) {             // если есть у новости НЕТ признака организатора и галочка НЕ отмечена\r\n                    result = true;\r\n                }\r\n\r\n                return result;\r\n            };\r\n\r\n            // получаем данные для ленты новостей\r\n            $scope.getNewsItems = function () {\r\n                db.get('module_notification',!$rootScope.vars.dev).then(function (resp) {\r\n                    $scope.loading = true;\r\n                    var _data = [], obj = {};\r\n\r\n                    for (var i in resp.values) {\r\n                        obj = {};\r\n                        obj = resp.values[i];\r\n                        obj['guid'] = i;\r\n                        if(obj['comcount']){obj['comcount']=+obj['comcount'];}\r\n                        else obj['comcount']=0;\r\n                        if(obj['date_public']) { obj['date_public_human'] = unixDate.toHumanFormat(obj['date_public']); }\r\n                        if(obj['date_public']) { obj['date_public'] = +obj['date_public']; }\r\n                        _data.push(obj);\r\n\r\n                        if (_viewed_news.indexOf(i) === -1) {\r\n                            _viewed_news.push(i);\r\n                        }\r\n                    }\r\n                    ;\r\n\r\n                    $rootScope.newsItems = _data;\r\n                    for(var i=0, len = $rootScope.newsItems.length; i<len; i++){\r\n                        $rootScope.newsItems[i]['ind'] = i;\r\n                    }\r\n                    //console.log('$scope.newsItems', $scope.newsItems);\r\n                    $scope.loading = false;\r\n                    localStorage.viewed_news = JSON.stringify(_viewed_news);\r\n                    //alert(JSON.stringify($scope.newsItems));\r\n                });\r\n            };\r\n\r\n            $scope.getNewsItems();\r\n        }\r\n    ])\r\n    .directive(\"scrollable\", function () {\r\n    return {\r\n        restrict: 'A',\r\n        link: function (scope, element, attrs) {\r\n            var container = angular.element(element);\r\n            container.bind(\"scroll\", function (evt) {\r\n                if (container[0].offsetHeight + container[0].scrollTop + 20 >= container[0].scrollHeight) {\r\n                    scope.$apply(attrs.scrollable);\r\n                }\r\n            });\r\n        }\r\n    };\r\n});","angular.module('notices', [])\r\n  .controller('noticesCtrl', ['$rootScope', '$scope', 'db', 'unixDate', '$cookies',\r\n    function($rootScope, $scope, db, unixDate, $cookies) {\r\n      $scope.unixTimeStamp = unixDate.getNowStamp();\r\n      $scope.CurrUserEmail = $rootScope.vars.contacts_email?$rootScope.vars.contacts_email.trim():'';\r\n     // получаем массив всех уведомлений\r\n      db.get('notices').then(function (resp) {\r\n        $scope.headers = resp.headers;\r\n        var pushes = [], push = {}, id = 0;\r\n\r\n        for (var i in resp.values) {\r\n            push = resp.values[i];\r\n            push['id'] = id;\r\n            push['guid'] = i;\r\n            push['date_public_human'] = unixDate.toHumanFormat(push['date_public']);\r\n            push['date_public'] = +push['date_public'];\r\n            pushes.push(push);\r\n\r\n            if( push['date_public'] < $scope.unixTimeStamp &&\r\n                (push['users'].indexOf($scope.CurrUserEmail) != -1 ||\r\n                    push['users'].length == 0)) {\r\n                id += 1;\r\n            }\r\n        }\r\n\r\n        localStorage[\"push_count\"] = id;\r\n        //$cookies.put('push_count', id+'', {expires: $rootScope.expireDate});\r\n        $scope.alarms = pushes;\r\n        console.log('$scope.alarms', $scope.alarms);\r\n      });\r\n    }\r\n  ]);\r\n","/**\r\n * Created by sveta_evp on 12.05.2017.\r\n */\r\nangular.module('participants', [])\r\n    .controller('participantsCtrl', ['db', '$rootScope', '$scope', '$state', '$timeout', '$mdDialog', 'Users', 'scroll', '$http','$stateParams','$cookies',\r\n        function (db, $rootScope, $scope, $state, $timeout, $mdDialog, Users, scroll, $http,$stateParams,$cookies) {\r\n\r\n            $scope.users = new Users();\r\n            $rootScope.header.simpleSearch = true;\r\n            if ($rootScope.search) $rootScope.search = '';\r\n\r\n            $scope.gender = localStorage.gender?localStorage.gender:'';\r\n\r\n            $rootScope.header.search_reset = function () {\r\n                $rootScope.search = '';\r\n                $scope.users.step = $scope.users.save_step;\r\n            };\r\n\r\n            //$scope.my_id = $cookies.get('my_id');\r\n            $scope.my_id = localStorage.my_id?localStorage.my_id:'';\r\n            $scope.mode = $stateParams.mode?$stateParams.mode:0;\r\n            $scope.choosenId = $rootScope['neighbor1']?$rootScope['neighbor1'].split('/')[0]:'none';\r\n            if($scope.choosenId=='none'){\r\n                $scope.choosenId = $rootScope['neighbor2']?$rootScope['neighbor2'].split('/')[0]:'none';\r\n            }\r\n\r\n            var backToProfile = function () {\r\n                $rootScope.header.back = function () {\r\n                    if($stateParams.mode=='captain'){\r\n                        $state.go('profile', {tab:4});\r\n                    }\r\n                    else{\r\n                        $state.go('profile', {tab:3});\r\n                    }\r\n                    $rootScope.header.back = function () {\r\n                        location.hash = '#/main';\r\n                    }\r\n                };\r\n            }\r\n\r\n            if($stateParams.mode){\r\n                backToProfile();\r\n            }\r\n\r\n            $scope.scroll = function(ScrollData) {\r\n                $timeout(function () {\r\n                    scroll.element = document.querySelector('main');\r\n                    scroll.set(ScrollData, 2);\r\n                    ScrollData = 0;\r\n                }, 100);\r\n            };\r\n\r\n            /*if ($stateParams.mode && $stateParams.mode != 0 && $stateParams.mode != 'captain')\r\n                alert ('Выбираем соседа' + $scope.gender);*/\r\n\r\n            $scope.openParticipant = function (id, name, lname) {\r\n                //alert($stateParams.id);\r\n                //alert(id);\r\n\r\n                if(!$stateParams.mode || $stateParams.mode==0 || $stateParams.mode=='captain'){\r\n                    var content = document.querySelector('main');\r\n                    var sd=content.scrollTop;\r\n                    $scope.loading = true;\r\n                    var users = $scope.users.list;\r\n                    //alert(JSON.stringify(users));\r\n                    for (var i in users) {\r\n                        if (users[i].id == id) {\r\n                            $scope._participant = users[i];\r\n                            //alert(id);\r\n                            break;\r\n                        }\r\n                    }\r\n                    $timeout(function () {\r\n                        $scope.loading = false;\r\n                    }, 1000);\r\n\r\n                    $rootScope.header.simpleSearch = false;\r\n\r\n                    $rootScope.header.back = function () {\r\n                        $scope._participant = null;\r\n                        $rootScope.header.simpleSearch = true;\r\n                        //$scope.scroll(sd);\r\n\r\n                        $timeout( function() {\r\n                            //alert ('scroll');\r\n                            $('main').animate({\r\n                                scrollTop: $(\"#user-\" + id).offset().top - 110\r\n                            }, 500);\r\n\r\n                        }, 1000);\r\n\r\n\r\n                        $rootScope.header.back = function () {\r\n                            location.hash = '#/main';\r\n                        }\r\n                    };\r\n                    users = null;\r\n                }\r\n                else { //выбираем соседа\r\n\r\n                        var confirm = $mdDialog.confirm()\r\n                            .title('Confirm your choice')\r\n                            .textContent('Are you sure that you want to choose '+name+' '+lname+' as your preferred roommate (priority'+$stateParams.mode+')?')\r\n                            .ok('Yes')\r\n                            .cancel('No');\r\n                        $mdDialog.show(confirm).then(function (result) {\r\n                            //записать в строку с айди my_id в поле neighbor+$stateParams.mode id\r\n                            var field = 'neighbor'+$stateParams.mode; //$stateParams.mode - 1 или 2\r\n                            var obj = {};\r\n                            obj[field+''] = id+'/'+lname+' '+name\r\n                            $rootScope['neighbor'+$stateParams.mode]=obj[field+''];\r\n                            $state.go('profile', {tab:3});\r\n                            //if (!$rootScope.vars.dev)\r\n                            db.edit('participants', obj, $scope.my_id);\r\n\r\n                        });\r\n                }\r\n            }\r\n            if($stateParams.id && $stateParams.id!='none'){ //если нажали на соседа в профиле - открыть его карточку\r\n                $scope.$watch('users.list', function() {\r\n                    if($scope.users.list.length>0){\r\n                        $scope.openParticipant($stateParams.id);\r\n                        backToProfile();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    ]).factory('Users', ['$http', '$rootScope', '$timeout', function ($http, $rootScope, $timeout) {\r\n    var Users = function () {\r\n        this.items = [];\r\n        this.list = [];\r\n        this.step = 40;\r\n        this.save_step = 40;\r\n        this.busy = false;\r\n    };\r\n\r\n    Users.prototype.Init = function () {\r\n        var reference = 'participants';\r\n        var link = ('../files/' + reference + '.json?unique=' + new Date().getTime());\r\n        //alert(link);\r\n        return $http.get(link);\r\n    };\r\n    Users.prototype.nextPage = function () {\r\n        if (this.busy) return;\r\n        this.busy = true;\r\n        console.log(this.step)\r\n        if ($rootScope.search) {\r\n            this.step = this.list.length;\r\n            this.busy = false;\r\n            return;\r\n        } else {\r\n            this.step = this.save_step;\r\n        }\r\n        if (this.items.length < 1) {\r\n            this.Init().then(function (data) {\r\n                var _data = data.data.values, filter = [], length = _data.length;\r\n                var data_arr = [];\r\n                for (var v in _data) {\r\n                    var obj = _data[v];\r\n                    obj['id'] = v;\r\n                    obj['order']=_data[v]['order']?+_data[v]['order']:1000;\r\n                    data_arr.push(obj);\r\n                }\r\n                this.list = data_arr;\r\n                console.log('data_arr');\r\n                console.log(data_arr);\r\n                this.items = data_arr.slice(0, 40);\r\n            }.bind(this));\r\n        } else {\r\n            var _list = this.items.length + 40;\r\n            this.items = this.list.slice(0, _list);\r\n            this.step += 20;\r\n            this.save_step = this.step;\r\n        }\r\n        if (this.step == 40) {\r\n            $timeout(function () {\r\n                this.busy = false;\r\n            }.bind(this), 1000)\r\n        } else {\r\n            this.busy = false;\r\n        }\r\n    };\r\n\r\n    return Users;\r\n}]).filter('search2', function () {\r\n    return function (data, text) {\r\n        text = text || '';\r\n        text = text.toLowerCase();\r\n        var out = [];\r\n        if (text.length < 3) return data;\r\n        for (var i = 0; i < data.length; i++) {\r\n            //for (var i in data) {\r\n            var fname = (data[i].hasOwnProperty(\"name\")) ? data[i][\"name\"].toLowerCase() : \"\";\r\n            var lname = (data[i].hasOwnProperty(\"lname\")) ? data[i][\"lname\"].toLowerCase() : \"\";\r\n            var flname = fname + \" \" + lname;\r\n            if (fname.indexOf(text) > -1 ||\r\n                lname.indexOf(text) > -1 ||\r\n                flname.indexOf(text) > -1) {\r\n                out.push(data[i])\r\n            }\r\n        }\r\n        return out;\r\n    };\r\n});","/**\r\n * Created by sveta_evp on 08.11.2016.\r\n */\r\nangular.module('premod', [])\r\n    .controller('premodCtrl', ['$scope', '$rootScope', 'db', '$timeout', '$state', 'file', '$mdDialog', 'communication', '$stateParams', '$http','$location',\r\n        function($scope, $rootScope, db, $timeout, $state, file, $mdDialog, communication, $stateParams, $http,$location) {\r\n\r\n            $rootScope.header.moderation=false;\r\n            var timer;\r\n            $scope.$on('$destroy', function () {\r\n                $timeout.cancel(timer);\r\n            });\r\n\r\n            //$rootScope.testmode='yes';\r\n            //======Определяем testmode (если evp или организатор - доступна модерация)==========\r\n            var my_id = localStorage.my_id?localStorage.my_id:false;\r\n            if(my_id){\r\n                db.get('participants',!$rootScope.vars.dev).then(function (participants) {\r\n                    if(participants.values[my_id].status==2 || participants.values[my_id].status==3){\r\n                        $rootScope.testmode='yes';\r\n                    }\r\n                    else{\r\n                        $state.go('speakers');\r\n                    }\r\n                });\r\n            }\r\n            //===================================================================================\r\n\r\n            $scope.$parent.header.back = function(){\r\n                    $state.go('speakers');\r\n            };\r\n\r\n            $scope.showQuestions=false;\r\n\r\n            $scope.getTables=function(){\r\n                //alert('getTable');\r\n                db.get('speakers', !$rootScope.vars.dev).then(function(data) {\r\n                    var speakers=[];\r\n                    for(var v in data.values){\r\n                        data.values[v]['order'] = data.values[v]['order']?+data.values[v]['order']:1000;\r\n                        speakers.push(data.values[v]);\r\n                    }\r\n                    $scope.speakers=speakers;\r\n                    db.get('questions',!$rootScope.vars.dev).then(function(data2) {\r\n                        for(var s in $scope.speakers){\r\n                            var questions_number=0;\r\n                            var q_count=0;\r\n                            for(var v in data2.values){\r\n                                if(data2.values[v].speaker_email==$scope.speakers[s].email){\r\n                                    questions_number++;\r\n                                }\r\n                                q_count++;\r\n                            }\r\n                            var viewed=localStorage[$scope.speakers[s].email]?localStorage[$scope.speakers[s].email]:0;\r\n                            $scope.speakers[s]['push_count']=questions_number - +viewed;\r\n                        }\r\n                    }, function(resp) {\r\n                        //console.log(111);\r\n                    });\r\n                });\r\n\r\n                timer = $timeout(function () {\r\n                    $scope.getTables();\r\n                }, 7000);\r\n\r\n            }\r\n\r\n            $scope.getTables();\r\n\r\n            $scope.openSpeaker=function(speaker){\r\n                $scope.currentSpeaker=speaker;\r\n                $scope.$parent.header.title=speaker.first_name+\" \"+speaker.last_name;\r\n                db.get('questions',!$rootScope.vars.dev).then(function(data) {\r\n                    $scope.loading = true;\r\n                    var questions=[];\r\n                    for(var v in data.values){\r\n                        if(data.values[v].speaker_email==speaker.email){\r\n                           data.values[v]['id']=v;\r\n                           questions.push(data.values[v]);\r\n                        }\r\n\r\n                    }\r\n                    $scope.questions=questions;\r\n                    localStorage[speaker.email]=$scope.questions.length;\r\n                    $scope.loading = false;\r\n                    $scope.showQuestions=true;\r\n                });\r\n\r\n                $scope.$parent.header.back = function(){\r\n                    if($scope.showQuestions){\r\n                        //console.log('gdfgdfgotosp');\r\n                        $scope.showQuestions=false;\r\n                        $scope.$parent.header.title=\"Премодерация вопросов\";\r\n                        $scope.getTables();\r\n                    }\r\n                    else {\r\n                        //console.log('gotosp');\r\n                        $state.go('speakers');\r\n                    }\r\n                };\r\n\r\n            }\r\n\r\n            $scope.premodToggle=function(question){\r\n                if(question.moderation==1){\r\n                    question.moderation=0+'';\r\n                }\r\n                else {\r\n                    question.moderation=1+'';\r\n                }\r\n                //console.log(question);\r\n                //console.log(question.id);\r\n                db.edit('questions', question, question.id);\r\n            }\r\n        }\r\n        ]);","/**\r\n * Created by sveta_evp on 12.05.2017.\r\n */\r\nangular.module('profile', ['ngMask'])\r\n    .controller('profileCtrl', ['$rootScope', '$scope', '$state', '$timeout','$cookies','file','db','$stateParams','$mdDialog',\r\n        function ($rootScope, $scope, $state, $timeout, $cookies,file,db,$stateParams,$mdDialog) {\r\n            $scope.tab = $stateParams.tab?$stateParams.tab:1;\r\n            //$scope.tab = 5;\r\n            $scope.noInternet = false; //выводить надпись \"проверьте соединение с интернетом\"\r\n            $scope.showBtnSaveStatus = false;\r\n            $scope.editStatus = false;\r\n\r\n            var my_id = localStorage.my_id?localStorage.my_id:'';\r\n            if(my_id){\r\n                //console.log(my_id);\r\n                db.get('participants',!$rootScope.vars.dev).then(function (participants) {\r\n                    $scope.loading = true;\r\n                    var participantsAll = participants.values;\r\n                    var user = participants.values[my_id];\r\n                    for(var key in user){\r\n                        if(key!='transfers_to'){\r\n                            $rootScope[key]=user[key];\r\n                        }\r\n                    }\r\n\r\n                    /*console.log($rootScope);\r\n                    console.log($scope.email);\r\n                    console.log($scope.status);*/\r\n\r\n                    if($rootScope.gender)localStorage.gender = $rootScope.gender;\r\n                    $scope.chosenDish = $rootScope.dish?+$rootScope.dish:'no';\r\n\r\n                    db.get('neighbors_status').then(function (data) {\r\n                        for (var v in data.values){\r\n                            $scope.neighborStatus = data.values[v].status;\r\n                            break;\r\n                        }\r\n                        //console.log($scope['neighbor_final'][0]);\r\n                        //console.log($scope.neighborStatus);\r\n                        if($scope.neighborStatus==2 && $scope['neighbor_final'][0]){\r\n                                var nf_id = $scope['neighbor_final'][0];\r\n                                //console.log(participantsAll[nf_id]);\r\n                                if(participantsAll[nf_id]){\r\n                                    var nf = participantsAll[nf_id];\r\n                                    var nf_name = nf_id+'/'+nf['lname']+' '+nf['name'];\r\n                                    $rootScope['neighbor_final'] = nf_name;\r\n                                }\r\n                        }\r\n                        $scope.loading = false;\r\n                    });\r\n                });\r\n            }\r\n            else\r\n                $scope.noInternet = true;\r\n\r\n            $scope.saveChangedStatus=function(mood){\r\n                //alert(mood);\r\n                $rootScope.mood = mood;\r\n                $scope.editStatus = false;\r\n                db.edit('participants', {'mood': mood}, my_id);\r\n            }\r\n\r\n            $scope.btnEditStatus = function () {\r\n                $scope.editStatus = true;\r\n            }\r\n\r\n            $scope.chooseNeighbor=function(mode){\r\n                $timeout(function () {\r\n                    $state.go('participants',{mode:mode,id:'none'});\r\n                },500)\r\n            }\r\n\r\n            $scope.goToNeighbor = function (neighbor) {\r\n                var neighborId = neighbor.split('/')[0];\r\n                if(neighbor){\r\n                    $state.go('participants',{ mode:0,id:neighborId});\r\n                }\r\n            }\r\n/*            $scope.goToCaptain = function (captainId) {\r\n                $state.go('participants',{ mode:0,id:captainId});\r\n            }*/\r\n            $scope.noTravelTo = false;\r\n            $scope.noTravelFrom = false;\r\n            $scope.noTravelToMinsk = false;\r\n            $scope.noTravelFromMinsk = false;\r\n            $scope.getTravelData = function (to_or_from, noTravel, dynamic) {\r\n                //если нет в куках айди строчки трансфера - пройтись по таблице, отыскать себя, иначе - вытащить строчку по айди из куков\r\n                //если строчки в таблице нет - noTravel = true (вывести форму для заполнения), при отправлении которой создается новая строка в таблице трансферов, занести данные в $scope\r\n                db.get(to_or_from,dynamic).then(function (transfers) {\r\n                    //if(!$cookies.get('transfers_to')){\r\n                    if(!localStorage[to_or_from]){\r\n                        for(var v in transfers.values) {\r\n                            if (transfers.values[v].participant.indexOf(my_id) >= 0) {\r\n                                $scope[to_or_from] = transfers.values[v];\r\n                                //$cookies.put('transfers_to', v, {expires: $rootScope.expireDate});\r\n                                localStorage[to_or_from] = v;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if(!$scope[to_or_from]){\r\n                            $scope[noTravel] = true;\r\n                            $scope[to_or_from]={};\r\n                        }\r\n                    }\r\n                    else{\r\n                        $scope[to_or_from] = transfers.values[localStorage[to_or_from]];\r\n                    }\r\n                },function (error) {\r\n                    $scope.noTravelTo = false;\r\n                    $scope.noTravelFrom = false;\r\n                });\r\n            }\r\n\r\n            //==================Трансферы Москва=================================\r\n            $scope.getTravelData('transfers_to','noTravelTo', !$rootScope.vars.dev);\r\n            $scope.getTravelData('transfers_from','noTravelFrom',!$rootScope.vars.dev);\r\n            //===================================================================\r\n\r\n\r\n            //==================Трансферы Минск==================================\r\n            $scope.getTravelData('transfers_tominsk','noTravelToMinsk',false);\r\n            $scope.getTravelData('transfers_fromminsk','noTravelFromMinsk',false);\r\n            //===================================================================\r\n\r\n\r\n            $scope.toggleWay = function (way,transfer) {\r\n                $scope[transfer]['way'] = way;\r\n            }\r\n\r\n            var msgFillAllFields=function () {\r\n                $mdDialog.show(\r\n                    $mdDialog.alert()\r\n                        .title('It is required that you fill all the fields')\r\n/*                        .textContent('All fields should be filled obligatory!')*/\r\n                        .ok('Ок')\r\n                );\r\n            }\r\n\r\n\r\n            var addTravelDataToTable=function (obj,table) {\r\n                var confirm = $mdDialog.confirm()\r\n                    .title('Please note that transfer data cannot be modified after submitting! Do you want to continue?')\r\n                    .ok('Yes')\r\n                    .cancel('No');\r\n                $mdDialog.show(confirm).then(function(result) {\r\n                    var data={};\r\n                    for(var key in obj){\r\n                        if(key!='way'){\r\n                            data[key] = obj[key];\r\n                        }\r\n                    }\r\n                    var participant = [];\r\n                    participant.push(my_id);\r\n                    data['participant'] = participant;\r\n                    data['user'] = localStorage.name?localStorage.name:'';\r\n                    data['user_email'] = $rootScope.vars.contacts_email?$rootScope.vars.contacts_email:'';\r\n                    //alert(JSON.stringify(data));\r\n\r\n                    db.add(table,data);\r\n                    //===========BEБ ЗАПИСЬ В ТАБЛИЦУ==============\r\n\r\n                    //=============================================\r\n                    $mdDialog.show(\r\n                        $mdDialog.alert()\r\n                            .title('The data has been sent successfully. Thank you!')\r\n                            .ok('Ок')\r\n                    );\r\n                    if(table==\"transfers_to\"){\r\n                        $scope.noTravelTo = false;\r\n                    }\r\n                    else{\r\n                        $scope.noTravelFrom = false;\r\n                    }\r\n                });\r\n            }\r\n            $scope.sendTravelCard = function(transfer, table){\r\n                if(transfer.way){\r\n                    if(transfer.way=='air'){\r\n                        if(transfer.date && transfer.time && transfer.airport && transfer.flight){\r\n                            addTravelDataToTable(transfer,table);\r\n                        }\r\n                        else{\r\n                            msgFillAllFields();\r\n                        }\r\n                    }\r\n                    else{\r\n                        if(transfer.date && transfer.time && transfer.station && transfer.flight && transfer.car){\r\n                            addTravelDataToTable(transfer,table);\r\n                        }\r\n                        else{\r\n                            msgFillAllFields();\r\n                        }\r\n                    }\r\n                }\r\n                else{\r\n                    msgFillAllFields();\r\n                }\r\n            }\r\n            \r\n            var getCaptain = function (number) {\r\n                //alert(number);\r\n                db.get('captains').then(function (captains) {\r\n                    for(var v in captains.values){\r\n                        if(captains.values[v].number==number){\r\n                            $scope.captain = captains.values[v].captain;\r\n                            $scope.captainId = captains.values[v].captain_id;\r\n;                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            $scope.showTab = function (tab) {\r\n                $scope.tab = tab;\r\n                if(tab==4 && !$scope.captain) getCaptain($scope.command);\r\n            }\r\n\r\n            $scope.showTab($scope.tab);\r\n            \r\n            $scope.addPhoto = function(){\r\n                file.attach();\r\n            };\r\n\r\n            $scope.removeAvatar = function() {\r\n                $rootScope.photo = false;\r\n                $scope.$applyAsync();\r\n                db.edit('participants',{'photo':''},my_id);\r\n            };\r\n\r\n            //================Мое меню=======================\r\n            $scope.chooseDish = function (dish) {\r\n                if($rootScope.dish!=0 && $rootScope.dish!=1)$scope.chosenDish = dish;\r\n            }\r\n            $scope.sendDish = function () {\r\n                $rootScope.dish = $scope.chosenDish;\r\n                db.edit('participants',{'dish':$scope.chosenDish},my_id);\r\n                $mdDialog.show(\r\n                    $mdDialog.alert()\r\n                        .title('Thank you for your choice!')\r\n                        .textContent('We will take it into account')\r\n                        .ok('Ок')\r\n                );\r\n            }\r\n            //===============================================\r\n\r\n        }]);","angular.module('questions_to_orgs', [])\r\n    .controller('questions_to_orgsCtrl', ['$scope', '$stateParams', '$http', 'db', '$rootScope','$state','$mdDialog','$filter', '$timeout',\r\n        function ($scope, $stateParams, $http, db, $rootScope,$state, $mdDialog, $filter, $timeout) {\r\n            $scope.loading = true;\r\n            //console.log($stateParams);\r\n\r\n            $scope.$parent.header.back = function () {\r\n                $state.go('info', {section: 'orgs'});\r\n            };\r\n\r\n\r\n            db.get('orgs').then(function (data) {\r\n                if ($stateParams.id) {\r\n                    if (data.values.hasOwnProperty($stateParams.id)) {\r\n                        $scope.speaker = data.values[$stateParams.id];\r\n                        $scope.loading = false;\r\n                    }\r\n\r\n                    //console.log($scope.speaker);\r\n                }\r\n            });\r\n\r\n            $scope.sendForm = function(fquestion) {\r\n                var obj = {};\r\n                obj['question'] = fquestion;\r\n                obj['date'] = $filter('date')(new Date(), 'yyyy-MM-dd HH:mm:ss');\r\n\r\n                if ($scope.speaker['lname'] && $scope.speaker['name'])\r\n                    obj['org'] = $scope.speaker['name'] + ' ' + $scope.speaker['lname'];\r\n\r\n                obj['author'] = localStorage.name?localStorage.name:'';\r\n                obj['author_email'] = $rootScope.vars.contacts_email?$rootScope.vars.contacts_email:'';\r\n\r\n                $scope.table_data = obj;\r\n                //console.log($scope.table_data);\r\n\r\n                var message = obj['date'] + '<br><b>От кого: </b>' + obj['author'] + ' (' + obj['author_email'] + ')<br><br>' + obj['question'];\r\n                //console.log(message);\r\n\r\n\r\n                $scope.question_text = '';\r\n                $timeout(function(){\r\n                    $mdDialog.show(\r\n                        $mdDialog.alert()\r\n                            .title('Thank you')\r\n                            .textContent(\"Your question has been sent!\")\r\n                            .ok('ОК')\r\n                    );\r\n                    $scope.question = '';\r\n                }, 300);\r\n            };\r\n        }\r\n    ]);\r\n","/**\r\n * Created by sveta_evp on 12.05.2017.\r\n */\r\nangular.module('speakers', [])\r\n    .controller('speakersCtrl', ['$rootScope', '$scope', '$state', '$timeout','db','$mdDialog','$stateParams',\r\n        function ($rootScope, $scope, $state, $timeout, db, $mdDialog,$stateParams) {\r\n            $rootScope.header.simpleSearch = true;\r\n            if ($rootScope.search) $rootScope.search = '';\r\n\r\n            $rootScope.header.moderation = true;\r\n\r\n            //$rootScope.testmode='yes';\r\n\r\n            //======Определяем testmode (если evp или организатор - доступна модерация)==========\r\n            var my_id = localStorage.my_id?localStorage.my_id:false;\r\n            if(my_id){\r\n                db.get('participants',!$rootScope.vars.dev).then(function (participants) {\r\n                    if(participants.values[my_id].status==2 || participants.values[my_id].status==3){\r\n                        $rootScope.testmode='yes';\r\n                    }\r\n                });\r\n            }\r\n            //===================================================================================\r\n\r\n                $rootScope.header.back = function(){\r\n                    if(!$stateParams.id){\r\n                        if($scope.info){\r\n                            $scope.info=false;\r\n                            $rootScope.header.simpleSearch = true;\r\n                        }\r\n                        else {\r\n                            localStorage.animate=0;\r\n                            location.hash = '#/main';\r\n                        }\r\n                    }\r\n                    else{\r\n                        // to agenda\r\n                        if($stateParams.tab!='no')$state.go('agenda',{tab:$stateParams.tab});\r\n                        else $state.go('news');\r\n                    }\r\n                };\r\n\r\n                $scope.openSpeaker = function (speaker) {\r\n                    $rootScope.header.simpleSearch = false;\r\n                    $scope.info = speaker;\r\n                }\r\n\r\n                $scope.info = false;\r\n                db.get('speakers',!$rootScope.vars.dev).then(function (data) {\r\n                    var speakers = [];\r\n                    for(var v in data.values){\r\n                       var speaker = {};\r\n                       speaker = data.values[v];\r\n                       speaker['order'] = data.values[v]['order']?+data.values[v]['order']:1000;\r\n                       speakers.push(speaker);\r\n                    }\r\n                    $scope.speakers = speakers;\r\n                    if($stateParams.id){\r\n                        $scope.openSpeaker(data.values[$stateParams.id]);\r\n                    }\r\n                });\r\n\r\n\r\n            $scope.sendQuestion=function (question) {\r\n                $timeout(function () {\r\n                    var date = new Date();\r\n                    var unixDate = Math.floor(date.getTime() / 1000);\r\n                    var data={};\r\n                    data['author'] = localStorage.name?localStorage.name:'';\r\n                    data['author_email'] = $rootScope.vars.contacts_email?$rootScope.vars.contacts_email:'';\r\n                    data['question'] = question;\r\n                    data['date'] = unixDate;\r\n                    data['speaker'] = $scope.info.last_name+' '+$scope.info.first_name;\r\n                    data['speaker_email'] =  $scope.info.email;\r\n                    data['moderation'] =  0;\r\n                    //alert(JSON.stringify(data));\r\n                    if(!$rootScope.vars.dev)db.add('questions',data);\r\n                    $rootScope.question = '';\r\n                    //===========BEБ ЗАПИСЬ В ТАБЛИЦУ==============\r\n\r\n                    //=============================================\r\n                    $mdDialog.show(\r\n                        $mdDialog.alert()\r\n                            .title('Thank you!')\r\n                            .textContent('Your question has been sent to the speaker')\r\n                            .ok('Ок')\r\n                    );\r\n                },500);\r\n            }\r\n\r\n}]).filter('speakers_search', function () {\r\n    return function (data, text) {\r\n        //alert('111')\r\n        text = text || '';\r\n        text = text.toLowerCase();\r\n        var out = [];\r\n        if (text.length < 3) return data;\r\n        for (var i = 0; i < data.length; i++) {\r\n            //for (var i in data) {\r\n\r\n            var fname = (data[i].hasOwnProperty(\"first_name\")) ? data[i][\"first_name\"].toLowerCase() : \"\";\r\n            var lname = (data[i].hasOwnProperty(\"last_name\")) ? data[i][\"last_name\"].toLowerCase() : \"\";\r\n            var flname = fname + \" \" + lname;\r\n            if (fname.indexOf(text) > -1 ||\r\n                lname.indexOf(text) > -1 ||\r\n                flname.indexOf(text) > -1) {\r\n                out.push(data[i])\r\n            }\r\n        }\r\n        return out;\r\n    };\r\n});","var pageOptions = [ \r\n  {visible: false,       id:'main',                'title':'Начало',           url:'/'},\r\n  {visible: true,        id:'profile',                'title':'Profile', url:'/profile/:tab'},\r\n  {visible: true,        id:'agenda',                'title':'Agenda', url:'/agenda/:tab'},\r\n  {visible: true,        id:'speakers',                'title':'Speakers', url:'/speakers/:id&:tab'},\r\n  {visible: true,        id:'participants',                'title':'Participants', url: '/participants/:mode&:id'},\r\n  {visible: true,        id:'info',                'title':'Information', url:'/info/:section&:lname'},\r\n  {visible: true,        id:'dinner',                'title':'Gala Dinner'},\r\n  {visible: true,        id:'news',                'title':'News Feed'},\r\n  {visible: true,        id:'notices',                'title':'Notifications'},\r\n  {visible: false,      id:'premod',               'title':'Премодерация вопросов'},\r\n  {visible: false,      id:'questions_to_orgs',    'title':'Questions to organizers',   url:'/questions_to_orgs/:id'}\r\n];\r\n","angular.module('app', [\r\n    'ui.router',\r\n    'infinite-scroll',\r\n    'ngSanitize',\r\n    'ngAnimate',\r\n    'ngCookies',\r\n    'app.config',\r\n    'app.directives',\r\n    'app.filters',\r\n    'app.factories',\r\n    'app.services',\r\n    'ngMaterial',\r\n    'ngTouch',\r\n    'ui.bootstrap',\r\n    'app.controllers'\r\n].concat(pageOptions.map(function (e) {\r\n    return e.id\r\n})))\r\n\r\n\r\n    .run(['$rootScope', 'variables', 'Drawer',\r\n        function ($rootScope, variables, Drawer) {\r\n            variables.update(\"event_*,device_*,personal_*,contacts_*,chats_list,messages_list_*,chat_messages_*\");\r\n            $rootScope.navDrawer = new Drawer(nav);\r\n        }\r\n    ]);\r\n","angular.module('app.config', [])\r\n\r\n.constant('defaultVariables', {\r\n    event_guid: 'vdp3ceuz',\r\n    device_guid: '3p888y4d',\r\n    contacts_email:'qwerty',\r\n    personal_first_name:'Svetlana',\r\n    personal_last_name:'Rozhkova',\r\n    personal_team:'agenda2',\r\n    dev: true\r\n})\r\n\r\n// инициализация jquery scope для поддержки $\r\n.constant('$', window.jQuery)\r\n\r\n.config(function($httpProvider) {\r\n    $httpProvider.defaults.headers.common = {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n    };\r\n    $httpProvider.defaults.headers.get = {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n    };\r\n    $httpProvider.defaults.headers.post = {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n    };\r\n})\r\n\r\n.config(['$stateProvider', '$urlRouterProvider', '$qProvider',\r\n  function($stateProvider, $urlRouterProvider, $qProvider){\r\n    $urlRouterProvider.otherwise(\"/\");\r\n    $qProvider.errorOnUnhandledRejections(false);\r\n\r\n    for(var i=0; i<pageOptions.length; i++)$stateProvider.state(pageOptions[i].id, {\r\n      url: pageOptions[i].url || '/'+pageOptions[i].id,\r\n      views: {\r\n        viewTopMenu: {\r\n          controller: 'headerCtrl'\r\n        },\r\n        viewBody: {\r\n          templateUrl: pageOptions[i].id+'/'+pageOptions[i].id+'.html',\r\n          controller: pageOptions[i].id+'Ctrl'\r\n        }\r\n      }\r\n    })\r\n  }\r\n]);","angular.module('app.controllers', [])\r\n\r\n.controller('globalCtrl', ['$rootScope', 'scroll', '$timeout','$scope', function($rootScope, scroll, $timeout,$scope) {\r\n  $rootScope.scrollTop = function(){\r\n    scroll.element = document.querySelector('main');\r\n    scroll.animateTo('top', 0);\r\n  };\r\n  $scope.animateTimeout = function(callback) {\r\n    if (!callback) return;\r\n    $timeout(function(){\r\n      callback();\r\n    }.bind(this),100);\r\n  };\r\n\r\n  var now = new Date();\r\n  $rootScope.expireDate=(new Date(now.getFullYear()+1, now.getMonth(), now.getDate())).toGMTString();\r\n  \r\n  $rootScope.$on('$stateChangeSuccess',\r\n        function (event, toState, toParams, fromState, fromParams) {\r\n            if (fromState['name'] === \"\") return;\r\n            var data = {}, params = [];\r\n            for (var p in fromParams) {\r\n                params.push(fromParams[p]);\r\n            }\r\n            var s=(params.length)?params.join(\"&\"):'';\r\n            data.url = '?/#!/'+fromState['name']+ '/'+s;\r\n            if(toState['name'] == 'main'){\r\n            }\r\n        }\r\n    );\r\n\r\n  // Gallery method\r\n  $scope.firstTime = false;\r\n  $scope.showFancy= function (data) {\r\n    var pictures = angular.element(data.currentTarget).parents(\".docs-pictures\")[0];\r\n    angular.element('body').addClass('overhidden');\r\n    var viewer;\r\n    var options = {\r\n      //inline: true,\r\n      url: 'data-original',\r\n      ready:  function (e) {\r\n        // console.log(e.type);\r\n        if($scope.firstTime){\r\n          viewer.destroy();\r\n          $scope.firstTime = false;\r\n          angular.element(angular.element(data.currentTarget)).trigger(\"click\")\r\n        }\r\n        else{\r\n          $scope.firstTime = true;\r\n        }\r\n      },\r\n      show:  function (e) {\r\n        // console.log(e.type);\r\n      },\r\n      shown:  function (e) {\r\n        // console.log(e.type);\r\n      },\r\n      hide:  function (e) {\r\n        // console.log(e.type);\r\n        angular.element('body').removeClass('overhidden');\r\n      },\r\n      hidden:  function (e) {\r\n        // console.log(e.type);\r\n      },\r\n      view:  function (e) {\r\n        // console.log(e.type, e.detail.index);\r\n      },\r\n      viewed:  function (e) {\r\n        // console.log(e.type, e.detail.index);\r\n        // this.viewer.zoomTo(1).rotateTo(180);\r\n      }\r\n    };\r\n    viewer = new Viewer(pictures, options);\r\n  }\r\n}])\r\n\r\n.controller('menuCtrl', ['$rootScope','$scope', '$timeout','$state', function($rootScope,$scope, $timeout,$state) {\r\n  $scope.items = pageOptions;\r\n  $scope.goToPage=function (page) {\r\n    $state.go(page);\r\n  }\r\n  $scope.close = function(){\r\n    $timeout(function(){\r\n      $rootScope.navDrawer.close()\r\n    }, 500);\r\n  }\r\n}])\r\n\r\n.controller('headerCtrl', ['$rootScope', '$scope', '$timeout', '$state', function($rootScope, $scope, $timeout, $state) {\r\n  var page = pageOptions.filter(function(n){return n.id == $state.current.name})[0];\r\n  $rootScope.header = {title:page?page.title:''};\r\n  $rootScope.header.back = function(){\r\n    localStorage.animate=0;\r\n    location.hash = '#/main';\r\n  };\r\n  $rootScope.noAnimation = true;\r\n}]);","angular.module('app.directives', [])\r\n    .directive(\"scrolltop\", function ($window) {\r\n        return function (scope, element, attrs) {\r\n            angular.element(document.querySelector(\"main\")).bind(\"scroll\", function () {\r\n                scope.scrolled = (this.scrollTop >= window.innerHeight * 0.1);\r\n                scope.$apply();\r\n            });\r\n        };\r\n    })\r\n    .directive('hello', ['$timeout',function($timeout){\r\n        return {\r\n            restrict: 'A',\r\n            link: function(scope, element, attr) {\r\n                $(element).addClass('active');\r\n            }\r\n        }\r\n    }])\r\n    .directive('onLongPress', function ($timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function ($scope, $elm, $attrs) {\r\n                $elm.bind('touchstart', function (evt) {\r\n                    // Locally scoped variable that will keep track of the long press\r\n                    $scope.longPress = true;\r\n                    // We'll set a timeout for 600 ms for a long press\r\n                    $timeout(function () {\r\n                        if ($scope.longPress) {\r\n                            // If the touchend event hasn't fired,\r\n                            // apply the function given in on the element's on-long-press attribute\r\n                            $scope.$apply(function () {\r\n                                $scope.$eval($attrs.onLongPress)\r\n                            });\r\n                        }\r\n                    }, 1000);\r\n                });\r\n                $elm.bind('touchend', function (evt) {\r\n                    // Prevent the onLongPress event from firing\r\n                    $scope.longPress = false;\r\n                    // If there is an on-touch-end function attached to this element, apply it\r\n                    if ($attrs.onTouchEnd) {\r\n                        $scope.$apply(function () {\r\n                            $scope.$eval($attrs.onTouchEnd)\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    })\r\n    .directive('loading', function () {\r\n        return {\r\n            restrict: 'E',\r\n            replace: true,\r\n            template: '<div class=\"loading\"><div><svg width=\"108px\" height=\"108px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\" class=\"uil-clock\"><rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"none\" class=\"bk\"></rect><circle cx=\"50\" cy=\"50\" r=\"30\" fill=\"#fff\" stroke=\"#ed1d24\" stroke-width=\"8px\"></circle><line x1=\"50\" y1=\"50\" x2=\"50\" y2=\"30\" stroke=\"#3c302e\" stroke-width=\"5\" stroke-linecap=\"round\"><animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 50 50\" to=\"360 50 50\" dur=\"1s\" repeatCount=\"indefinite\"></animateTransform></line><line x1=\"50\" y1=\"50\" x2=\"50\" y2=\"20\" stroke=\"#fefefe\" stroke-width=\"2px\" stroke-linecap=\"round\" opacity=\"0\"><animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 50 50\" to=\"360 50 50\" dur=\"0.2s\" repeatCount=\"indefinite\"></animateTransform></line></svg><h1>LOADING...</h1></div></div>',\r\n            link: function (scope, element, attr) {\r\n                scope.$watch('loading', function (val) {\r\n                    if (val)\r\n                        $(element).show();\r\n                    else\r\n                        $(element).hide();\r\n                });\r\n            }\r\n        }\r\n    })\r\n    .directive(\"epButton\", ['$timeout', '$state',\r\n    function ($timeout, $state) {\r\n        return function (scope, element, attrs) {\r\n            var delayDefaultMs = 400,\r\n                durationDefaultMs = 800,\r\n                delayMs = attrs.delayMs ? attrs.delayMs : delayDefaultMs,\r\n                durationMs = attrs.durationMs ? attrs.durationMs : durationDefaultMs,\r\n                buttonElem = angular.element(\"<md-button class='ep-button md-button md-raised button_\" + attrs.order + \"'>\" + attrs.content + \"</md-button>\"),\r\n                styleElem = angular.element(\"<style>.\" + attrs.effectName + \"{animation-duration: \" + durationMs + \"ms !important; -webkit-animation-duration: \" + durationMs + \"ms !important;</style>\");\r\n            element.append(buttonElem);\r\n            element.append(styleElem);\r\n            buttonElem.bind('click', function () {\r\n                buttonElem.addClass(attrs.effectName);\r\n                var self = buttonElem;\r\n                $timeout(function () {\r\n                    self.removeClass(attrs.effectName);\r\n                    $state.go(attrs.link);\r\n                }, delayMs);\r\n                $timeout(function () {\r\n                    if (attrs.callbackName) {\r\n                        scope.$eval(attrs.callbackName);\r\n                    }\r\n                }, delayMs * 1.2);\r\n            });\r\n\r\n            /*\r\n             example markup:\r\n             <div\r\n             ep-button\r\n             link=\"{{item.id}}\"\r\n             delay-ms=\"400\"\r\n             duration-ms=\"800\"\r\n             content=\"цвет фона\"\r\n             effect-name=\"bg-change\"\r\n             callback-name=\"attention()\"\r\n             />\r\n\r\n             effects list:\r\n             bg-change\r\n             rotate\r\n             rounded\r\n             opacity\r\n             pulse\r\n             shadow\r\n             rubberBand\r\n             flipInY\r\n             zoomOut\r\n             wobble\r\n\r\n             more effects here https://daneden.github.io/animate.css/\r\n             */\r\n        }\r\n    }\r\n]);","var app = angular.module('app.factories', [])\r\n.factory('scroll', ['$rootScope',\r\n        function($rootScope) {\r\n            return {\r\n                'bezier': new Bezier (0.25, 0.1, 0.25, 1.0),\r\n                'element': 'main',\r\n                'get': function(){\r\n                    return this.element.scrollTop;\r\n                },\r\n                'set': function(value){\r\n                    this.element.scrollTop = value;\r\n                },\r\n                'animate': function(){\r\n                    if(this.get() !== this.last && this.last !== false) return false;\r\n                    this.n += 1 / this.time / 60;\r\n                    this.set(this.start + this.bezier.get(this.n)*(this.to + 1000));\r\n                    this.last = this.get();\r\n                    if(this.n < 1) requestAnimationFrame(this.animate.bind(this));\r\n                    else if(this.callback) this.callback();\r\n                },\r\n                'animateTo': function(to, time, callback){\r\n                    //console.log(to);\r\n                    this.to = to || 0;\r\n\r\n                    if(typeof this.to == 'string'){\r\n                        this.to = {\r\n                            top:0,\r\n                            bottom: this.element.scrollHeight - window.innerHeight,\r\n                            center: (this.element.scrollHeight - window.innerHeight)/2,\r\n                        }[this.to];\r\n                    }\r\n\r\n                    if(time===0){\r\n                        this.set(this.to);\r\n                        return false;\r\n                    }\r\n                    this.time = time || 1;\r\n\r\n                    this.n = 0;\r\n                    this.callback = callback;\r\n                    this.start = this.get();\r\n                    this.last = false;\r\n                    this.to = Math.min(this.to, this.element.scrollHeight - window.innerHeight);\r\n                    this.to -= this.start;\r\n                    setTimeout(this.animate.bind(this), 0);\r\n                }\r\n            };\r\n        }\r\n    ])\r\n.factory('Drawer',['$timeout',function($timeout){\r\n    var Drawer = function(element, width) {\r\n        this.domElement = element; // Елемен выдвижного меню\r\n        this.width = width || element.clientWidth - 20; // Лимит выдвижения меню\r\n\r\n        this.content = this.domElement.getElementsByClassName('content')[0];\r\n        this.shadow = this.domElement.getElementsByClassName('shadow')[0];\r\n\r\n        this.drag = false;\r\n        this.offset = 0;\r\n        this.domElement.addEventListener('mousedown', this.pointerdown.bind(this));\r\n        this.domElement.addEventListener('touchstart', this.pointerdown.bind(this));\r\n        this.shadow.addEventListener('click', this.close.bind(this));\r\n        this.previousEvents = false;\r\n        this.alpha = false;\r\n    };\r\n\r\n    Drawer.prototype.set = function(value) {\r\n        if(value) this.offset = value;\r\n        this.shadow.style.display = this.offset>0?'block':'none';\r\n        this.shadow.style.opacity = this.offset/this.width;\r\n        this.domElement.style.left = -this.width + this.offset + 'px';\r\n        //this.content.style.boxShadow = '0px 0px 16px rgba(0,0,0,'+(this.offset/this.width*.2)+')';\r\n        //this.domElement.children[0].style.boxShadow= '0 0 16px rgba(0,0,0,'+ (this.offset?0.3:0) + ')';\r\n    };\r\n\r\n    Drawer.prototype.toch2mouse = function(event) {\r\n        if(event.touches && event.touches.length){\r\n            event.clientX = event.touches[0].clientX;\r\n            event.clientY = event.touches[0].clientY;\r\n        }\r\n    };\r\n\r\n    Drawer.prototype.setEvents = function(value) {\r\n        var action = (value?'add':'remove')+'EventListener';\r\n        document[action]('mousemove', this.pointermove.bind(this));\r\n        document[action]('mouseup', this.pointerup.bind(this));\r\n        document[action]('touchmove', this.pointermove.bind(this));\r\n        document[action]('touchend', this.pointerup.bind(this));\r\n    };\r\n\r\n    Drawer.prototype.pointerdown = function(event) {\r\n        // console.log(event);\r\n        this.toch2mouse(event);\r\n        this.drag = this.offset - event.clientX;\r\n        this.domElement.classList.add('move');\r\n        this.setEvents(true);\r\n    };\r\n\r\n    Drawer.prototype.pointermove = function(event) {\r\n        this.toch2mouse(event);\r\n        if(this.drag !== false){\r\n            this.set(Math.min(this.drag + event.clientX, this.width));\r\n            event.preventDefault()\r\n\r\n            if(this.previousEvents&&event.clientX != this.previousEvents.clientX)this.alpha = event.clientX - this.previousEvents.clientX\r\n            this.previousEvents = event;\r\n        }\r\n    };\r\n\r\n    Drawer.prototype.pointerup = function(event) {\r\n        this.toch2mouse(event);\r\n        this.drag = false;\r\n        this.domElement.classList.remove('move');\r\n        this.setEvents(false);\r\n        this.offset = (this.offset > this.width/2) ? this.width  : 0;\r\n        // if(Math.abs(this.alpha) > 8){\r\n        //     this.offset = this.alpha>0 ? this.width  : 0;\r\n        // }\r\n        this.set();\r\n    };\r\n\r\n    Drawer.prototype.toggle = function(event) {\r\n        $timeout(function(){\r\n            this.set(this.offset ? 0 : this.width);\r\n        }.bind(this), 500);\r\n    };\r\n\r\n    Drawer.prototype.open = function(event) {\r\n        this.set(this.width);\r\n    };\r\n\r\n    Drawer.prototype.close = function(event) {\r\n        this.set(this.offset = 0);\r\n    };\r\n\r\n    Drawer.prototype.resize = function(){\r\n        main.style.height = window.innerHeight - header.clientHeight + 'px';\r\n    };\r\n    return Drawer;\r\n}]);","angular.module('app.filters', [])\r\n.filter('cutPhone', function($rootScope) {\r\n      return function (phone) {\r\n          if (!phone) return;\r\n          var width = document.documentElement.clientWidth;\r\n          if('ios' == $rootScope.vars.device_platform && width > 760) {\r\n              phone = phone.replace(/\\/\\?epadvisorIgnoreRequest=true/g, \"\");\r\n          } else if ('android' == $rootScope.vars.device_platform){\r\n              phone = phone.replace(/\\/\\?epadvisorIgnoreRequest=true/g, \"\");\r\n          }\r\n          return phone;\r\n      }\r\n    })\r\n.filter('timeAgo', function() {\r\n  return function(date, lang) {\r\n    var time = (new Date()).getTime() - (date*1000);\r\n    var date = new Date(time - 62167230000000);\r\n\r\n    var words = {\r\n      s: ['секунду', 'секунды', 'секунд',  'секунду',  'getSeconds'],\r\n      m: ['минуту',  'минуты',  'минут',   'минуту',   'getMinutes'],\r\n      h: ['час',     'часa',    'часов',   'час',      'getHours'],\r\n      d: ['день',    'дня',     'дней',    'дней',     'getDate'],\r\n      w: ['неделю',  'недель',  'недель',  'неделю',   ''],\r\n      M: ['месяц',   'месяца',  'месяцов', 'месяц',    'getMonths'],\r\n      y: ['год',     'года',    'лет',     'год',      'getYear'],\r\n      c: ['век',     'века',    'веков',   'век',      ''],\r\n    };\r\n\r\n    var getNumber = function(value){\r\n      var char = value.toString().slice(-1);\r\n      if(char>=5||char==0) return 2;\r\n      else if(char>=2) return 1;\r\n      else if(char==1) return 0;\r\n    };\r\n\r\n    var getСollocation = function(word, number){\r\n      return number + ' ' + words[word][getNumber(number)];\r\n    };\r\n\r\n    var getFormat = function(value){\r\n      return getСollocation(value, date[words[value][4]]());\r\n    };\r\n\r\n    var getDate = function(str){\r\n      var arr = [];\r\n      for(var i=0; i<str.length; i++)arr.push(getFormat(str[i]));\r\n      return arr.join(', ') + ' назад';\r\n    };\r\n\r\n    var result = [];\r\n    if(     time <           10*1000) return 'только что';\r\n    else if(time <           60*1000) return getDate('s');\r\n    else if(time <        60*60*1000) return getDate('m');\r\n    else if(time <     24*60*60*1000) return getDate('h');\r\n    else if(time <  31*24*60*60*1000) return getDate('d');\r\n    else if(time < 365*24*60*60*1000) return getDate('Md');\r\n    else                              return getDate('y');\r\n  };\r\n})\r\n\r\n.filter('file', function() {\r\n  return function(file, type) {\r\n   if(!file) return false;\r\n\r\n    var storages = {\r\n      /*'ondemand': 'http://epadvisor/ondemand/',*/\r\n      'ondemand': '../files/',\r\n      'static': '../static/',\r\n      'files': '../files/'\r\n    };\r\n\r\n    var url = \"\";\r\n    if (file.split(\"/\")[0] == \"ondemand\") {\r\n      url = storages['ondemand'] + file.split(\"/\")[1];\r\n    } else if (file.split(\"/\")[0] == \"static\"){\r\n      url = storages['static'] + file.split(\"/\")[1];\r\n    } else if (file.split(\"/\")[0] == \"files\") {\r\n      url = storages['files'] + file.split(\"/\")[1];\r\n    } else {\r\n      url = storages['ondemand'] + file;\r\n      //url = file; // ошибка в пути файла, возвращаем исходную строку\r\n    }\r\n\r\n    switch(type) {\r\n      case 'bg': return 'background-image: url('+url+');';\r\n      case 'cover': return 'background: url('+url+') center no-repeat; background-size: cover;';\r\n      case 'contain': return 'background: url('+url+') center no-repeat; background-size: contain;';\r\n      default: return url;\r\n    }\r\n  };\r\n})\r\n\r\n.filter(\"html\", ['$sce', function($sce) {\r\n  return function(htmlCode, limit){\r\n    return $sce.trustAsHtml(htmlCode.split(/[\\s]+/).slice(0, limit).join(' ') + (htmlCode.length>limit?'…':''));\r\n  }\r\n}])\r\n\r\n.filter('search', function() {\r\n  return function(data, text) {\r\n    text = text || '';\r\n    text = text.toLowerCase();\r\n    var out = [];\r\n    if (text.length < 3) return data;\r\n    for (var i = 0; i < data.length; i++) {\r\n      var fname = (data[i].hasOwnProperty(\"personal_first_name\")) ? data[i][\"personal_first_name\"].toLowerCase() : \"\";\r\n      var lname = (data[i].hasOwnProperty(\"personal_last_name\")) ? data[i][\"personal_last_name\"].toLowerCase() : \"\";\r\n      var flname = fname + \" \" + lname;\r\n      if (fname.indexOf(text) > -1 ||\r\n          lname.indexOf(text) > -1 ||\r\n          flname.indexOf(text) > -1) {\r\n        out.push(data[i])\r\n      }\r\n    }\r\n    return out;\r\n  };\r\n})\r\n.filter('simpleSearch', function () {\r\n  return function (input, search) {\r\n    if (!input) return input;\r\n    if (!search) return input;\r\n    var expected = ('' + search).toLowerCase();\r\n    var result = {};\r\n    angular.forEach(input, function (value, key) {\r\n      var firstname = ('' + value.name).toLowerCase();\r\n      if (firstname.indexOf(expected) !== -1 )  {\r\n        result[key] = value;\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n});","/* Layout height */\r\n(function(){\r\n  if(!/ipad|iphone/gi.test(window.navigator.userAgent)){\r\n    setInterval(function(){\r\n      var e =  document.querySelectorAll('main, md-tabs:not(.md-no-tab-content):not(.md-dynamic-height)');\r\n      for(var i=0; i<e.length; i++)e[i].style.height = window.innerHeight-56+'px'\r\n    }, 100);\r\n  } else {\r\n        var header = document.querySelector('header');\r\n        header.classList.add('ios');\r\n        \r\n        var nav = document.querySelector('nav');\r\n        nav.classList.add('ios');\r\n        \r\n        var main = document.querySelector('main');\r\n        main.classList.add('ios');\r\n\r\n        var newsFeedBlock = document.querySelector('newsFeedBlock');\r\n        newsFeedBlock.classList.add('ios');\r\n    }\r\n}());\r\n","var app = angular.module('app.services', [])\r\n\r\n    .service('feedback', ['$http', function ($http) {\r\n        this.get = function (reference, folder) {\r\n\r\n        };\r\n\r\n        this.send = function (title, reference, obj) {\r\n\r\n        }\r\n    }])\r\n    .service('pushModal', ['$rootScope', '$mdToast', '$state',\r\n        function ($rootScope, $mdToast, $state) {\r\n            var that = this;\r\n\r\n            this.show = function (action, message) {\r\n                $mdToast.show({\r\n                    controller: function ($scope) {\r\n                        $scope.closer = function () {\r\n                            that.close();\r\n                        };\r\n                        $scope.goPushes = function () {\r\n                            // $state.go('notices'); //\r\n                        };\r\n                    },\r\n                    controllerAs: 'pushCtrl',\r\n                    hideDelay: 3000000,\r\n                    position: 'top',\r\n                    template: '      <md-toast id=\"toastOverlay\" ng-click=\"closer()\"> \\\r\n                          <div class=\"content-thoats\" flex> \\\r\n                            <div class=\"message\">' + message + '</div> \\\r\n                            <div class=\"buttons\" ng-if=\"' + action + '\"> \\\r\n                              <md-button md-no-ink class=\"button md-primary go_pushes_button\"   ng-click=\"goPushes()\">Перейти</md-button> \\\r\n                              <md-button md-no-ink class=\"button md-primary cancel_push_button\" id=\"toastCloseBtn\" ng-click=\"closer()\">Закрыть</md-button> \\\r\n                            </div> \\\r\n                          </div> \\\r\n                          <md-button md-no-ink class=\"md-primary close_button\" ng-click=\"closer()\"></md-button> \\\r\n                        </md-toast>'\r\n                });\r\n            };\r\n\r\n            this.close = function () {\r\n                $mdToast.hide()\r\n            };\r\n        }\r\n    ])\r\n    .service('db', ['$http', function ($http) {\r\n        this.get = function (reference, dynamic) {\r\n            return $http.get('../files/' + reference + '.json?unique=' + new Date().getTime())\r\n                .then(function (response) {\r\n                    return response.data;\r\n                }, function () {\r\n                    console.log('Не найден ' + reference + '.json');\r\n                });\r\n\r\n        };\r\n        this.add = function (reference, data) {\r\n\r\n        };\r\n        this.edit = function (reference, data, rowid) {\r\n\r\n        };\r\n    }])\r\n    .service('variables', ['$rootScope', 'defaultVariables', '$http', '$mdDialog',\r\n        function ($rootScope, defaultVariables, $http, $mdDialog) {\r\n            this.update = function (params) {\r\n                $rootScope.vars = defaultVariables;\r\n            };\r\n        }\r\n    ])\r\n    .service('file', ['$mdDialog',\r\n        function ($mdDialog) {\r\n            this.attach = function (size, quality, memtype) {\r\n                var confirm = $mdDialog.confirm({\r\n                    clickOutsideToClose: true,\r\n                    template: [\r\n                        '<md-dialog md-theme=\"{{ dialog.theme }}\" aria-label=\"{{ dialog.ariaLabel }}\" ng-class=\"dialog.css\">',\r\n                        '  <md-dialog-content class=\"md-dialog-content\" role=\"document\" tabIndex=\"-1\">',\r\n                        '    <h2 class=\"md-title\">Please select the source for a photo that you want to insert</h2>',\r\n                        '  </md-dialog-content>',\r\n                        '  <md-dialog-actions>',\r\n                        '    <md-button ng-click=\"answer(\\'gallery\\')\" class=\"md-primary\">Gallery</md-button>',\r\n                        '    <md-button ng-click=\"answer(\\'photo\\')\" class=\"md-primary\">Camera</md-button>',\r\n                        '  </md-dialog-actions>',\r\n                        '</md-dialog>',\r\n                    ].join('').replace(/\\s\\s+/g, ''),\r\n                    controller: function ($scope, $mdDialog) {\r\n                        $scope.answer = function (type) {\r\n                            $mdDialog.hide();\r\n                        };\r\n                    }\r\n                });\r\n                $mdDialog.show(confirm);\r\n            };\r\n        }\r\n    ])\r\n    .service('unixDate', [function () {\r\n        this.getNowStamp = function() {\r\n            var d = new Date();\r\n            d.setHours(d.getHours());\r\n            return unixTimeStamp = Math.floor(d.getTime() / 1000);\r\n        };\r\n        this.toHumanFormat = function(unixTimeStamp) {\r\n            var a = new Date(unixTimeStamp * 1000);\r\n\r\n            //var months = ['Января','Февраля','Марта','Апреля','Мая','Июня','Июля','Августа','Сенября','Октября','Ноября','Декабря'];\r\n            var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n            var year = a.getFullYear();\r\n\r\n            var month = months[a.getMonth()];\r\n            //var month = a.getMonth() + 1;\r\n            if (month < 10) month = '0' + month;\r\n\r\n            var day = a.getDate();\r\n\r\n            var hour = a.getHours();\r\n            if (hour < 10) hour = '0' + hour;\r\n\r\n            var min = a.getMinutes();\r\n            if (min < 10) min = '0' + min;\r\n\r\n            var sec = a.getSeconds();\r\n            if (sec < 10) sec = '0' + sec;\r\n\r\n            //var time = day + '.' + month + '.' + year + ' ' + hour + ':' + min + ':' + sec ;\r\n            //var time = year + '-' + month + '-' + day + ' ' + hour + ':' + min + ':' + sec ;\r\n            var time = day+ ' ' + month+', '+hour+':'+min;\r\n\r\n            return time;\r\n        };\r\n    }]);","function Bezier (mX1, mY1, mX2, mY2) {\r\n\r\n    this.get = function(aX) {\r\n        if (mX1 == mY1 && mX2 == mY2) return aX; // linear\r\n        return CalcBezier(GetTForX(aX), mY1, mY2);\r\n    };\r\n\r\n    function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n    function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n    function C(aA1)      { return 3.0 * aA1; }\r\n\r\n    function CalcBezier(aT, aA1, aA2) {\r\n        return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;\r\n    }\r\n    function GetSlope(aT, aA1, aA2) {\r\n        return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function GetTForX(aX) {\r\n        var aGuessT = aX;\r\n        for (var i = 0; i < 4; ++i) {\r\n            var currentSlope = GetSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope == 0.0) return aGuessT;\r\n            var currentX = CalcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n}"]}